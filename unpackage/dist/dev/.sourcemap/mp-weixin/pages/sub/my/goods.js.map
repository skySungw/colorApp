{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/colorApp/colorApp/pages/sub/my/goods.vue?1781","webpack:///C:/Users/Administrator/Desktop/colorApp/colorApp/pages/sub/my/goods.vue?fc91","webpack:///C:/Users/Administrator/Desktop/colorApp/colorApp/pages/sub/my/goods.vue?1236","webpack:///C:/Users/Administrator/Desktop/colorApp/colorApp/pages/sub/my/goods.vue?376e","uni-app:///pages/sub/my/goods.vue","webpack:///C:/Users/Administrator/Desktop/colorApp/colorApp/pages/sub/my/goods.vue?e0c6","webpack:///C:/Users/Administrator/Desktop/colorApp/colorApp/pages/sub/my/goods.vue?ab54"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/sub/my/goods.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/sub/my/goods.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./goods.vue?vue&type=template&id=bad74fca&\"\nvar renderjs\nimport script from \"./goods.vue?vue&type=script&lang=js&\"\nexport * from \"./goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goods.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/sub/my/goods.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods.vue?vue&type=template&id=bad74fca&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"my-goods_container full-height absolute flex flex-direction\">\r\n\t\t<cu-custom bgColor=\"bg-gradual-green\" :isBack=\"isBack\" :isCustom=\"true\">\r\n\t\t\t<view slot=\"content\">我的商品</view>\r\n\t\t</cu-custom>\r\n\t\t<view class=\"fixed-shadow\">\r\n\t\t\t<scroll-view v-if=\"source === 0\" scroll-x class=\"bg-white nav\">\r\n\t\t\t\t<view class=\"flex text-center\">\r\n\t\t\t\t\t<view :class=\"['cu-item', 'flex-1', {'text-green cur': index == curTab}]\" v-for=\"(item, index) in menu\" :key=\"index\" @click=\"tabSelect\" :data-index=\"index\" :data-id=\"item.id\">{{ item.label }}({{ item.count }})</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t<view class=\"flex-1 overflow-hidden flex justify-center\">\r\n\t\t\t<view v-if=\"list.length > 0\" class=\"flex-1 overflow-hidden\">\r\n\t\t\t\t<scroll-view scroll-y class=\"scroll-Y\" @scrolltolower=\"onRefresh\">\r\n\t\t\t\t\t<view class=\"flex bg-white padding-left-sm\" v-for=\"(item, index) in list\" :key=\"index\">\r\n\t\t\t\t\t\t<view v-if=\"publishSource == 4\" class=\"flex align-center padding-right-sm\" @tap=\"onGoodsChecked\" :data-checked=\"item.checked\" :data-index=\"index\">\r\n\t\t\t\t\t\t\t<view class=\"icon\" :class=\"[{'cuIcon-roundcheckfill text-green': item.checked}, {'cuIcon-roundcheck text-gray': !item.checked}]\"></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"flex-1\">\r\n\t\t\t\t\t\t\t<Goods @refreshList=\"initParams\" :item=\"item\" :source=\"publishSource\" :status=\"params.goodsState\"></Goods>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"noMoreFlag\" class=\"text-center padding-sm\">我是有底线的~</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t\t<Empty v-else msg=\"暂无数据~\" />\r\n\t\t</view>\r\n\t\t<view v-if=\"source !== 0\" class=\"cu-bar bg-white tabbar border shop\">\r\n\t\t\t<view class=\"selectall flex align-center padding-left\" @tap=\"onCheckedAll\">\r\n\t\t\t\t<view class=\"icon padding-right-sm\" :class=\"[{'cuIcon-roundcheckfill text-green': allChecked}, {'cuIcon-roundcheck text-gray': !allChecked}]\"></view>\r\n\t\t\t\t<view>全选</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"btn-group\">\r\n\t\t\t\t<button class=\"cu-btn bg-orange round shadow-blur\" @tap=\"onPublishToSite\">发布到橱窗</button>\r\n\t\t\t\t<button class=\"cu-btn bg-red round shadow-blur\" @tap=\"onPublish\">创建商品</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { onFetchGoodsBySelf, onAddGoodsToShowCase, onSelectGoodsCountByMemberId } from '@/api';\r\n\timport Goods from '@/components/goods.vue';\r\n\timport Empty from '@/components/empty.vue';\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tGoods,\r\n\t\t\tEmpty\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpublishSource: 1, // 个人商品列表 - 1， 个人发布到橱窗商品列表 - 4\r\n\t\t\t\tallChecked: false, // 发商品到橱窗，是否全选\r\n\t\t\t\tshowcaseId: null, // 橱窗id\r\n\t\t\t\tgoodsCode: null, // 创建商品后默认选中\r\n\t\t\t\tsource: 0, // 0 - 无来源， 1 - 商品橱窗\r\n\t\t\t\tcustomBar: this.CustomBar,\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tsize: 10, // 页码\r\n\t\t\t\t\tcurrent: 1, // 当前页\r\n\t\t\t\t\ttotal: 0, // 总数量\r\n\t\t\t\t\tuserId: '', // 可不传\r\n\t\t\t\t\tgoodsState: 1, // 0 下架 1 上架 2 已售出\r\n\t\t\t\t},\r\n\t\t\t\tlist: [], // 商品列表\r\n\t\t\t\tmenu: [{\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\tlabel: '上架中',\r\n\t\t\t\t\tcount: 0\r\n\t\t\t\t},{\r\n\t\t\t\t\tid: 0,\r\n\t\t\t\t\tlabel: '已下架',\r\n\t\t\t\t\tcount: 0\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: 2,\r\n\t\t\t\t\tlabel: '已售出',\r\n\t\t\t\t\tcount: 0\r\n\t\t\t\t}],\r\n\t\t\t\tcurTab: 0,\r\n\t\t\t\tscrollLeft:0,\r\n\t\t\t\tisBack: true,\r\n\t\t\t\tnoMoreFlag: false // 是否有更多数据\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tthis.params.userId = options.id || '';\r\n\t\t\tthis.isBack = options.isBack == 1 ? false : true;\r\n\t\t\t\r\n\t\t\tif (options.source) {\r\n\t\t\t\tthis.source = options.source;\r\n\t\t\t\tthis.showcaseId = options.showcaseId;\r\n\t\t\t\tthis.publishSource = 4;\r\n\t\t\t\tif (options.goodsCode) {\r\n\t\t\t\t\tthis.goodsCode = options.goodsCode;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconsole.log('this.source', this.source);\r\n\t\t\tthis.initParams();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 查询商品具体数量\r\n\t\t\tasync onSelectGoodsTotal() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await onSelectGoodsCountByMemberId();\r\n\t\t\t\t\tconsole.log('onSelectGoodsCountByMemberId res', res);\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tthis.menu[0]['count'] = res.data.upCount;\r\n\t\t\t\t\t\tthis.menu[1]['count'] = res.data.downCount;\r\n\t\t\t\t\t\tthis.menu[2]['count'] = res.data.soldCount;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 橱窗渠道，跳到发布页\r\n\t\t\tonPublish() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/sub/publish/publishGoods?source=${this.source}&showcaseId=${this.showcaseId}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 发布商品到橱窗\r\n\t\t\tonPublishToSite() {\r\n\t\t\t\tconst {num, result} = this.getOperateNums(true, true);\r\n\t\t\t\tif (!num) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请勾选商品',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.addGoods(result);\r\n\t\t\t},\r\n\t\t\t// 添加橱窗商品\r\n\t\t\tasync addGoods(goodsIds) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await onAddGoodsToShowCase({\r\n\t\t\t\t\t\tgoodsIds, // [this.item.goodsCode],\r\n\t\t\t\t\t\tshowcaseId: this.showcaseId\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '添加成功',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}, 1500)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 获取选中/取消 总数量\r\n\t\t\tgetOperateNums(flag, getResult) {\r\n\t\t\t\tlet num = 0;\r\n\t\t\t\tlet result = [];\r\n\t\t\t\tthis.list.forEach((v, i) => {\r\n\t\t\t\t\tif (v.checked === flag) {\r\n\t\t\t\t\t\tnum++;\r\n\t\t\t\t\t\tif (getResult) {\r\n\t\t\t\t\t\t\tresult.push(v.goodsCode);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn getResult ? {\r\n\t\t\t\t\tnum,\r\n\t\t\t\t\tresult\r\n\t\t\t\t}: num;\r\n\t\t\t},\r\n\t\t\t// 选择商品\r\n\t\t\tonGoodsChecked(e) {\r\n\t\t\t\tconst index = e.currentTarget.dataset['index'];\r\n\t\t\t\tconst checked = e.currentTarget.dataset['checked'];\r\n\t\t\t\tconsole.log('checked', !checked, index);\r\n\t\t\t\tthis.list[index].checked = !checked;\r\n\t\t\t\tconsole.log('this.list', this.list);\r\n\t\t\t\t// 判断是否是全选\r\n\t\t\t\tif (this.getOperateNums(true) === this.list.length) {\r\n\t\t\t\t\tthis.allChecked = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.allChecked = false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$forceUpdate();\r\n\t\t\t},\r\n\t\t\t// 选中商品，单选\r\n\t\t\t// 是否全选\r\n\t\t\tonCheckedAll() {\r\n\t\t\t\tthis.allChecked = !this.allChecked;\r\n\t\t\t\tthis.list.forEach((v, i) => {\r\n\t\t\t\t\tthis.list[i].checked = this.allChecked;\r\n\t\t\t\t})\r\n\t\t\t\tthis.$forceUpdate();\r\n\t\t\t},\r\n\t\t\t// 是否有下一页\r\n\t\t\thasNext() {\r\n\t\t\t\treturn this.params.current < Math.ceil(this.params.total / this.params.size);\r\n\t\t\t},\r\n\t\t\t// 初始化列表页面参数\r\n\t\t\tinitParams() {\r\n\t\t\t\t// 查看商品数量\r\n\t\t\t\tthis.onSelectGoodsTotal();\r\n\t\t\t\tthis.noMoreFlag = false;\r\n\t\t\t\tthis.params.current = 1;\r\n\t\t\t\tthis.params.total = 0;\r\n\t\t\t\tthis.list = [];\r\n\t\t\t\tthis.getGoodsList();\r\n\t\t\t},\r\n\t\t\t// 获取商品列表\r\n\t\t\tasync getGoodsList() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await onFetchGoodsBySelf(this.params);\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tthis.params.total = res.data.total;\r\n\t\t\t\t\t\tthis.list = this.list.concat(res.data.records);\r\n\t\t\t\t\t\t// 是否有下一页数据\r\n\t\t\t\t\t\t// this.hasNext = res.hasNext;\r\n\t\t\t\t\t\tconsole.log(\"this.list\", this.list);\r\n\t\t\t\t\t\tthis.list.forEach((v, i) => {\r\n\t\t\t\t\t\t\tif (this.goodsCode == v.goodsCode) {\r\n\t\t\t\t\t\t\t\tthis.list[i].checked = true;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.list[i].checked = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (this.goodsCode) {\r\n\t\t\t\t\t\t\tthis.goodsCode = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttabSelect(e) {\r\n\t\t\t\tthis.curTab = e.currentTarget.dataset.index;\r\n\t\t\t\tthis.params.goodsState = e.currentTarget.dataset.id;\r\n\t\t\t\tthis.scrollLeft = (e.currentTarget.dataset.index - 1) * 60;\r\n\t\t\t\tthis.initParams();\r\n\t\t\t},\r\n\t\t\t// 触底刷新\r\n\t\t\tonRefresh() {\r\n\t\t\t\tconsole.log('bottom');\r\n\t\t\t\tif (this.hasNext()) {\r\n\t\t\t\t\tthis.noMoreFlag = false;\r\n\t\t\t\t\tthis.params.current++;\r\n\t\t\t\t\tthis.getGoodsList();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.noMoreFlag = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" lang=\"scss\">\r\n\t.my-goods_container {\r\n\t\t.icon {\r\n\t\t\tfont-size: 40upx;\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1644847634977\n      var cssReload = require(\"E:/HBuilderX.2.9.3.20201014/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}