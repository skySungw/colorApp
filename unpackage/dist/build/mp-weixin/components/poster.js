(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/poster"],{"2ee9":function(e,t,n){"use strict";var r=n("3cc0"),c=n.n(r);c.a},"3cc0":function(e,t,n){},"524f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n("a34a")),c=n("231c"),a=u(n("8665"));function u(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r,c,a,u){try{var o=e[a](u),i=o.value}catch(s){return void n(s)}o.done?t(i):Promise.resolve(i).then(r,c)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,c){var a=e.apply(t,n);function u(e){o(a,r,c,u,i,"next",e)}function i(e){o(a,r,c,u,i,"throw",e)}u(void 0)}))}}var s=null,f={props:{cancel:{type:Function,default:function(){}}},data:function(){return{isShow:!1,poster:{},posterImg:"",canvasId:"myCanvas",img:"https://cdn2.xxkucun.com/xxkucun/xiangmu/20210628/593f6211-189b-4df4-9e9c-56ad02ff3352.jpg",title:"[东鑫记港式茶餐厅]南京东路|魔都新晋爆款茶餐厅来袭！99元抢门",price:148,tips:"这是\n一款非常好用的\n绘图插件",head:"https://shop.napi.cc/public/upload/2021/0630/2021063017503669.png",big:""}},methods:{createdPoster:function(){var e=this;return i(r.default.mark((function t(){var n,c,u,o,i,f,l;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.canvasId,c=e.img,u=e.title,o=e.price,i=e.head,f=e.tips,s=new a.default({width:375,height:590,canvasId:n,_this:e,background:{type:"color",color:"white",w:375,h:590}}),t.next=4,s.createdSharePoster((function(t){var n=t.bgObj,r=n.width;n.height;return e.poster=n,[{type:"image",x:0,y:0,src:c,w:r,h:r},{type:"text",w:r-40,text:u,color:"#333333",font:{size:16},line:{num:1},callBack:function(e){var t=e.sx,n=(e.ex,e.sy,e.ey);return{x:t+20,y:n+20}}},{type:"text",text:"￥".concat(o),color:"#fe4755",font:{size:24},callBack:function(e){var t=e.sx,n=(e.ex,e.sy,e.ey);return{x:t,w:r-2*t,y:n+15}}},{type:"line",x:0,w:r,color:"#ff875f",lineType:"dashed",callBack:function(e){e.sx,e.ex,e.sy;var t=e.ey;return{y:t+10}}},{type:"qrcode",x:20,size:100,text:"https://ext.dcloud.net.cn/plugin?id=5291",image:{src:i,size:30,r:10,borderWidth:7,borderColor:"#ffffff"},callBack:function(e){e.sx,e.ex,e.sy;var t=e.ey;return{y:t+15}}},{type:"text",w:200,text:f,color:"#333333",font:{size:17},line:{height:22},callBack:function(e,t){var n=e.sx,r=(e.ex,e.sy),c=(e.ey,e.w);return{x:n+c+30,y:r+20}}}]}));case 4:if(l=t.sent,l.success){t.next=7;break}return t.abrupt("return");case 7:e.posterImg=l.data;case 8:case"end":return t.stop()}}),t)})))()},saveImage:function(){var e=this;return i(r.default.mark((function t(){var n,a;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.posterImg,t.next=3,(0,c.saveImageToPhotosAlbum)(n);case 3:if(a=t.sent,a.success){t.next=6;break}return t.abrupt("return");case 6:(0,c.showToast)("保存成功"),e.close();case 8:case"end":return t.stop()}}),t)})))()},close:function(){this.cancel()}}};t.default=f},6960:function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var c=function(){var e=this,t=e.$createElement;e._self._c},a=[]},a844:function(e,t,n){"use strict";n.r(t);var r=n("6960"),c=n("de80");for(var a in c)"default"!==a&&function(e){n.d(t,e,(function(){return c[e]}))}(a);n("2ee9");var u,o=n("f0c5"),i=Object(o["a"])(c["default"],r["b"],r["c"],!1,null,"32c42d9d",null,!1,r["a"],u);t["default"]=i.exports},de80:function(e,t,n){"use strict";n.r(t);var r=n("524f"),c=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=c.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/poster-create-component',
    {
        'components/poster-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("a844"))
        })
    },
    [['components/poster-create-component']]
]);
