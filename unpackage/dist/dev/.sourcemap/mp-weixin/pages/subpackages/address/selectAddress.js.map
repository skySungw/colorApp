{"version":3,"sources":["uni-app:///main.js","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/pages/subpackages/address/selectAddress.vue?1484","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/pages/subpackages/address/selectAddress.vue?c444","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/pages/subpackages/address/selectAddress.vue?1aee","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/pages/subpackages/address/selectAddress.vue?e119","uni-app:///pages/subpackages/address/selectAddress.vue","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/pages/subpackages/address/selectAddress.vue?1e4f","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/pages/subpackages/address/selectAddress.vue?35ab"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/subpackages/address/selectAddress.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/subpackages/address/selectAddress.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./selectAddress.vue?vue&type=template&id=9ad74f1c&\"\nvar renderjs\nimport script from \"./selectAddress.vue?vue&type=script&lang=js&\"\nexport * from \"./selectAddress.vue?vue&type=script&lang=js&\"\nimport style0 from \"./selectAddress.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/subpackages/address/selectAddress.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./selectAddress.vue?vue&type=template&id=9ad74f1c&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./selectAddress.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./selectAddress.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page-box absolute flex flex-direction\" :style=\"[{height: '100vh'}]\">\r\n\t\t<cu-custom bgColor=\"bg-gradual-green\" :isBack=\"isBack\" :isCustom=\"true\">\r\n\t\t\t<view slot=\"content\">{{ title }}</view>\r\n\t\t</cu-custom>\r\n\t\t<view class=\"flex-1 flex flex-direction overflow-hidden\">\r\n\t\t\t<view class=\"la-header\">\r\n\t\t\t\t<view class=\"la-header-left\" @tap=\"selectCity\">\r\n\t\t\t\t\t<image class=\"la-header-dwimg\" src=\"@/static/index-dw.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t<view class=\"la-header-dw\">{{ address_data.city ? address_data.city : '选择城市' }}</view>\r\n\t\t\t\t\t<image class=\"la-header-jtimg\" src=\"@/static/icon-arrow.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"la-header-right\">\r\n\t\t\t\t\t<image class=\"la-header-right-img\" v-if=\"input_val\" @tap=\"search_clear\" src=\"@/static/search_clear.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t<image class=\"la-header-right-ss\" src=\"@/static/search-icon-black.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t<input confirm-type=\"search\" :value=\"input_val\" placeholder=\"请输入您需要搜索的小区名\" @input=\"address_input\"></input>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"address-box\">\r\n\t\t\t\t<view class=\"address-box__title\">\r\n\t\t\t\t\t<image src=\"@/static/address-icon1.png\"></image>\r\n\t\t\t\t\t<text>当前地址</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"address-box__current\">\r\n\t\t\t\t\t<view class=\"address-box__name\" v-if='dw_type'>定位中...</view>\r\n\t\t\t\t\t<view class=\"address-box__name\" v-else @tap=\"selectCurrentAddress\">{{ address_data.title ? address_data.title : '没能获取到您的定位' }}</view>\r\n\t\t\t\t\t<view class=\"address-box__re-location theme-text\" @tap=\"reLocation\">\r\n\t\t\t\t\t\t<image src=\"@/static/djk_biao.png\"></image>\r\n\t\t\t\t\t\t<view>重新定位</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"address-box flex-1 flex flex-direction overflow-hidden\" v-if=\"list.length > 0\">\r\n\t\t\t\t<view class=\"address-box__title\">\r\n\t\t\t\t\t<image src=\"@/static/address-icon2.png\"></image>\r\n\t\t\t\t\t<text>附近的地址</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"address-box__nearby-list flex-1 overflow-hidden\">\r\n\t\t\t\t\t<scroll-view :scroll-top=\"scrollTop\" scroll-y=\"true\" class=\"scroll-Y\" @scrolltoupper=\"upper\" @scrolltolower=\"lower\"\r\n\t\t\t\t\t\t@scroll=\"scroll\">\r\n\t\t\t\t\t\t\t<view class=\"address-box__name\" @tap=\"addressBtn(item)\" v-for=\"(item, index) in list\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<view>{{ item.title }}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"address-box__name___address\">{{ item.address }}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t</view>\n</template>\n\n<script>\r\n\timport { selectAddressByLat, selectAddressExploreByCityAndArea, saveUserLocation, selectHotCity } from '@/api';\r\n\tconst citySelector = requirePlugin('citySelector');\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tserachType: false, // 是否是搜索，用来判断下拉接口\r\n\t\t\t\tscrollTop: 0,\r\n\t\t\t\told: {\r\n\t\t\t\t\t\tscrollTop: 0\r\n\t\t\t\t},\r\n\t\t\t\ttitle: '地址选择',\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tsize: 10, // 页码\r\n\t\t\t\t\tcurrent: 1, // 当前页\r\n\t\t\t\t\ttotal: 0, // 总数量\r\n\t\t\t\t\tlat: '',\r\n\t\t\t\t\tlng: ''\r\n\t\t\t\t},\r\n\t\t\t\tisBack: true,\r\n\t\t\t\tdw_type:false,\r\n\t\t\t\tcount: null,\r\n\t\t\t\tpageNum: 1,\r\n\t\t\t\taddress_data: {},\r\n\t\t\t\tlocation_data:{},\r\n\t\t\t\tlist: [],\r\n\t\t\t\tsearchList: [],\r\n\t\t\t\tinput_val: '',\r\n\t\t\t\tinterType: false,\r\n\t\t\t\tsearch_qs_type: false,\r\n\t\t\t\tisType:false,\r\n\t\t\t\tbackType: 0,\r\n\t\t\t\taddressList: [],\r\n\t\t\t\tmoreAddress: false,\r\n\t\t\t\taddressBoxHeight: 0,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t\thotCitys: [] // 热门城市\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tthis.address_data = uni.getStorageSync('addressInfo');\r\n\t\t\tconsole.log(\"this.address_data\", this.address_data);\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tconst eventChannel = this.$scope.eventChannel; // 兼容APP-NVUE\r\n\t\t\t// #endif\r\n\t\t\t// #ifndef APP-NVUE\r\n\t\t\tconst eventChannel = this.getOpenerEventChannel();\r\n\t\t\t// #endif\r\n\t\t\tthis.eventChannel = eventChannel;\r\n\t\t\t// 获取热门城市\r\n\t\t\tthis.onFetchHotCity();\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tconst selectedCity = citySelector.getCity(); // 选择城市后返回城市信息对象，若未选择返回null\r\n\t\t\tconsole.log(\"selectedCity\", selectedCity);\r\n\t\t\tif (selectedCity) {\r\n\t\t\t\tObject.assign(this.address_data, {\r\n\t\t\t\t\tcity: selectedCity.name,\r\n\t\t\t\t\tlat: selectedCity.location.latitude,\r\n\t\t\t\t\tlng: selectedCity.location.longitude\r\n\t\t\t\t})\r\n\t\t\t\tuni.setStorageSync('addressInfo', this.address_data);\r\n\t\t\t\tthis.params.current = 1;\r\n\t\t\t\tthis.getDictList(selectedCity.location);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUnload () {\r\n\t\t\t// 页面卸载时清空插件数据，防止再次进入页面，getCity返回的是上次的结果\r\n\t\t\tcitySelector.clearCity();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 是否有下一页\r\n\t\t\thasNext() {\r\n\t\t\t\treturn this.params.current < Math.ceil(this.params.total / this.params.size);\r\n\t\t\t},\r\n\t\t\t// 滚动到顶部\r\n\t\t\tupper(e) {\r\n\t\t\t\t\tconsole.log('upper', e)\r\n\t\t\t},\r\n\t\t\t// 滚动到底部\r\n\t\t\tlower(e) {\r\n\t\t\t\tif (this.hasNext()) {\r\n\t\t\t\t\tthis.params.current++;\r\n\t\t\t\t\t// 搜索来源\r\n\t\t\t\t\tif (this.serachType) {\r\n\t\t\t\t\t\tthis.getArea(this.input_val);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 重新定位\r\n\t\t\t\t\t\tthis.getDictList({\r\n\t\t\t\t\t\t\tlatitude: this.params.lat,\r\n\t\t\t\t\t\t\tlongitude: this.params.lng\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 滚动事件\r\n\t\t\tscroll(e) {\r\n\t\t\t\t\tthis.old.scrollTop = e.detail.scrollTop\r\n\t\t\t},\r\n\t\t\t// 到顶\r\n\t\t\tgoTop(e) {\r\n\t\t\t\tthis.scrollTop = this.old.scrollTop\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tthis.scrollTop = 0\r\n\t\t\t\t});\r\n\t\t\t\t// uni.showToast({\r\n\t\t\t\t// \t\ticon:\"none\",\r\n\t\t\t\t// \t\ttitle:\"纵向滚动 scrollTop 值已被修改为 0\"\r\n\t\t\t\t// })\r\n\t\t\t},\r\n\t\t\t// 热门城市\r\n\t\t\tasync onFetchHotCity() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await selectHotCity();\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tres.data.forEach(v => {\r\n\t\t\t\t\t\t\tthis.hotCitys.push(v.cityName.replace(/市/, ''));\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 切换小区\r\n\t\t\taddressBtn(item) {\r\n\t\t\t\tconsole.log('item', item);\r\n\t\t\t\tconst token = uni.getStorageSync('token');\r\n\t\t\t\tconsole.log('token', token);\r\n\t\t\t\tif (token) {\r\n\t\t\t\t\tthis.onSaveLocation(item);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.goBackPage(item);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgoBackPage(item) {\r\n\t\t\t\tthis.eventChannel.emit('onChangeAddress', {\r\n\t\t\t\t\tdata: item\r\n\t\t\t\t});\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 1\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync onSaveLocation(item) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await saveUserLocation({\r\n\t\t\t\t\t\t\"locationLat\": item.lat,\r\n\t\t\t\t\t\t\"locationLng\": item.lng,\r\n\t\t\t\t\t\t\"locationAddress\": item.title\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tthis.goBackPage(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t\tthis.goBackPage(item);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 切换城市\r\n\t\t\tselectCity() {\r\n\t\t\t\tconst key = this.mapConfig.key; // 使用在腾讯位置服务申请的key\r\n\t\t\t\tconst referer = this.mapConfig.key; // 调用插件的app的名称\r\n\t\t\t\tconsole.log(\"this.hotCitys.join(',')\", this.hotCitys.join(','))\r\n\t\t\t\tconst hotCitys = this.hotCitys.join(','); // 用户自定义的的热门城市,用户自定义的热门城市，城市名称之间用英文逗号分隔，名称需要与列表中的城市名称匹配, 最多12个\r\n\t\t\t\t// 参考 https://lbs.qq.com/miniProgram/plugin/pluginGuide/citySelector\r\n\t\t\t\twx.navigateTo({\r\n\t\t\t\t  url: `plugin://citySelector/index?key=${key}&referer=${referer}&hotCitys=${hotCitys}`,\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 重新获取定位\r\n\t\t\treLocation() {\r\n\t\t\t\tthis.serachType = false;\r\n\t\t\t\tthis.input_val = '';\r\n\t\t\t\tthis.params.current = 1;\r\n\t\t\t\tthis.goTop();\r\n\t\t\t\tuni.showLoading();\r\n\t\t\t\tthis.getSystemLocation((res) => {\r\n\t\t\t\t\tuni.setStorageSync('lat', res.latitude);\r\n\t\t\t\t\tuni.setStorageSync('lng', res.longitude);\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t// 获取小区信息\r\n\t\t\t\t\tthis.getDictList(res);\r\n\t\t\t\t}, () => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 根据经纬度获取小区信息\r\n\t\t\tasync getDictList(info) {\r\n\t\t\t\tthis.params.lat = info.latitude;\r\n\t\t\t\tthis.params.lng = info.longitude;\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await selectAddressByLat(this.params);\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tthis.params.total = res.data.total;\r\n\t\t\t\t\t\tif (this.params.current === 1) {\r\n\t\t\t\t\t\t\tthis.list = res.data.records;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.list = this.list.concat(res.data.records);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 搜索小区列表\r\n\t\t\taddress_input(e) {\r\n\t\t\t\tclearTimeout(this.timer);\r\n\t\t\t\tthis.input_val = e.detail.value;\r\n\t\t\t\tthis.serachType = true;\r\n\t\t\t\tthis.params.current = 1;\r\n\t\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\t\tthis.list = [];\r\n\t\t\t\t\tif (!this.input_val) {\r\n\t\t\t\t\t\tthis.list = [];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.getArea(this.input_val);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this.time);\t\r\n\t\t\t},\r\n\t\t\t// 获取小区列表\r\n\t\t\tasync getArea(areaName) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await selectAddressExploreByCityAndArea({\r\n\t\t\t\t\t\tsize: this.params.size,\r\n\t\t\t\t\t\tcurrent: this.params.current,\r\n\t\t\t\t\t\tcityName: this.address_data.city,\r\n\t\t\t\t\t\tareaName: areaName\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tthis.params.total = res.data.total;\r\n\t\t\t\t\t\tif (this.params.current === 1) {\r\n\t\t\t\t\t\t\tthis.list = res.data.records;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.list = this.list.concat(res.data.records);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 清除选择\r\n\t\t\tsearch_clear() {\r\n\t\t\t\tthis.input_val = '';\r\n\t\t\t\tthis.list = [];\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style lang=\"scss\">\r\n\r\n.page-box {\r\n\t// height: 100vh;\r\n\tbackground-color: #F5F5F5;\r\n}\r\n.la-header {\r\n\tdisplay: flex;\r\n\theight: 77upx;\r\n\tbackground-color: #fff;\r\n\tpadding: 0 20upx 0 20upx;\r\n\tposition: relative;\r\n}\r\n\r\n.la-header-left {\r\n\twidth: 208upx;\r\n\tfont-size: 28upx;\r\n\tcolor: #333;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.la-header-dw {\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\tmargin: 0 6upx;\r\n}\r\n.la-header-jtimg {\r\n\twidth: 28upx;\r\n\theight: 28upx;\r\n\tflex-shrink: 0;\r\n}\r\n\r\n.la-header-left .la-header-dwimg {\r\n\twidth: 38upx;\r\n\theight: 38upx;\r\n}\r\n\r\n.la-header-right {\r\n\twidth: calc(100% - 200upx);\r\n\tposition: relative;\r\n}\r\n\r\n.la-header-right input {\r\n\theight: 60upx;\r\n\tborder-radius: 90upx;\r\n\tbackground-color: #f5f5f5;\r\n\ttext-align: left;\r\n\tmargin-top: 10upx;\r\n\tpadding-left: 60upx;\r\n\tfont-size: 25upx;\r\n\tcolor: #000;\r\n\tline-height: 60upx;\r\n\tposition: relative;\r\n\tpadding-right: 90upx;\r\n}\r\n\r\n.la-header-right .la-header-right-ss {\r\n\twidth: 28upx;\r\n\theight: 28upx;\r\n\tposition: absolute;\r\n\tleft: 22upx;\r\n\ttop: 26upx;\r\n\tz-index: 1;\r\n}\r\n\r\n.la-nv-dq {\r\n\theight: 58upx;\r\n\tpadding: 0 24upx 0 24upx;\r\n\tbackground-color: #f5f5f5;\r\n\tline-height: 58upx;\r\n\ttext-align: left;\r\n\tfont-size: 24upx;\r\n\tcolor: #8a8080;\r\n}\r\n\r\n/* 重新定位 */\r\n\r\n.curAddress_title {\r\n\theight: 58upx;\r\n\tline-height: 58upx;\r\n\tfont-size: 24upx;\r\n\tcolor: #666;\r\n\tpadding: 0 23upx;\r\n}\r\n\r\n.curAddress_name_view {\r\n\tposition: relative;\r\n\theight: 90upx;\r\n\tdisplay: flex;\r\n\tpadding: 0 23upx;\r\n\tflex-direction: row;\r\n\tbackground-color: #fff;\r\n}\r\n\r\n.curAddress_name {\r\n\tflex: 1;\r\n\theight: 90upx;\r\n\tline-height: 90upx;\r\n\tfont-size: 30upx;\r\n\tcolor: #333;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.curAddress_change {\r\n\twidth: 170upx;\r\n\theight: 90upx;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\talign-items: center;\r\n\tmargin-left: 25upx;\r\n}\r\n\r\n.curAddress_change image {\r\n\twidth: 45upx;\r\n\theight: 45upx;\r\n\tmargin-right: 5upx;\r\n}\r\n\r\n.la-nv-list .curAddress_name_view {\r\n\tborder-bottom: 1px solid rgba(245, 247, 248, 1);\r\n}\r\n\r\n/* 搜索弹出 */\r\n\r\n.la-search-list {\r\n\twidth: 100%;\r\n\tborder-top: 1px solid rgba(245, 247, 248, 1);\r\n}\r\n\r\n.curAddress_juli {\r\n\tfont-size: 26upx;\r\n\tcolor: #999;\r\n}\r\n\r\n.la-search-list .curAddress_name_view {\r\n\theight: auto;\r\n\tdisplay: block;\r\n\tpadding-bottom: 20upx;\r\n\tborder-bottom: 1px solid rgba(245, 247, 248, 1);\r\n}\r\n\r\n.la-header-right .la-header-right-img {\r\n\twidth: 36upx;\r\n\tposition: absolute;\r\n\tright: 4upx;\r\n\ttop: 3upx;\r\n\tz-index: 9999;\r\n\tdisplay: block;\r\n\tpadding: 20upx;\r\n}\r\n\r\n.back-color {\r\n\tbackground-color: #fff;\r\n}\r\n\r\n.address-box {\r\n\t/* border-bottom: 20upx solid #f5f5f5; */\r\n\tmargin-bottom: 20upx;\r\n\tbackground: #ffffff;\r\n\tpadding: 10upx 24upx 0;\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n}\r\n\r\n.address-box:last-child {\r\n\tborder: 0;\r\n}\r\n\r\n.address-box__title {\r\n\tfont-size: 24upx;\r\n\tcolor: #999999;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 10upx 0;\r\n}\r\n.address-box__title image {\r\n\twidth: 30upx;\r\n\theight: 30upx;\r\n\tmargin-right: 8upx;\r\n}\r\n\r\n.address-box__current {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n\t\r\n}\r\n\r\n.address-box__name {\r\n\tfont-size: 30upx;\r\n\tcolor: #333333;\r\n\tfont-weight: bold;\r\n\tpadding: 22upx 0;\r\n\t// display: -webkit-box;\r\n\t// -webkit-box-orient: vertical;\r\n\t// -webkit-line-clamp: 1;\r\n\t// overflow: hidden;\r\n\t// word-break: break-all;\r\n}\r\n.address-box__name___address {\r\n\tcolor: #999;\r\n\tfont-size: 28upx;\r\n}\r\n.address-box__list {\r\n\tpadding-bottom: 20upx;\r\n\tmargin-left: 40upx;\r\n\tborder-bottom: 1upx solid #F5F5F5;\r\n}\r\n\r\n.address-box__detail {\r\n\tfont-size: 24upx;\r\n\tcolor: #666666;\r\n\tmargin-top: 14upx;\r\n}\r\n\r\n.address-box__btns {\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\tleft: 60upx;\r\n\theight: 80upx;\r\n\tline-height: 80upx;\r\n\twidth: 100%;\r\n\tcolor: #666666;\r\n\tfont-size: 28upx;\r\n\tborder-top: 1upx solid #F5F5F5;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n.address-box__btns image {\r\n\twidth: 14upx;\r\n\theight: 22upx;\r\n\ttransform: rotate(90deg);\r\n\tmargin-left: 10upx;\r\n\topacity: 0.8;\r\n}\r\n.address-box__btns .up {\r\n\ttransform: rotate(-90deg);\r\n}\r\n\r\n.address-box__re-location {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tfont-size: 28upx;\r\n\tflex-shrink: 0;\r\n}\r\n\r\n.address-box__re-location image {\r\n\twidth: 36upx;\r\n\theight: 36upx;\r\n\tmargin-right: 10upx;\r\n}\r\n\r\n.address-box__nearby-list .address-box__name {\r\n\tmargin-left: 40upx;\r\n\tborder-bottom: 1upx solid #F5F5F5;\r\n}\r\n.overflow-hidden {\r\n\toverflow: hidden;\r\n}\r\n.scroll-Y {\r\n\theight: 100%;\r\n}\r\n.absolute {\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\n</style>\n","import mod from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./selectAddress.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./selectAddress.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1643242484170\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}