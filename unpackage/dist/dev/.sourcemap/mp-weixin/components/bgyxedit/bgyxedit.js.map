{"version":3,"sources":[null,"webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/components/bgyxedit/bgyxedit.vue?a1dd","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/components/bgyxedit/bgyxedit.vue?b6fa","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/components/bgyxedit/bgyxedit.vue?3f00","uni-app:///components/bgyxedit/bgyxedit.vue"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;;;AAGvD;AAC4K;AAC5K,gBAAgB,6KAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAkpB,CAAgB,knBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoCtqB;AACA,kBADA;AAEA;AACA;AACA,kBADA;AAEA,yBAFA,EADA;;AAKA;AACA,mBADA;AAEA,mBAFA,CAEA;AAFA,KALA;AASA;AACA,mBADA;AAEA,mBAFA,CAEA;AAFA,KATA;AAaA;AACA,kBADA;AAEA,iBAFA,CAEA;AAFA,KAbA;AAiBA;AACA,iBADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EAjBA;;AAuBA;AACA,iBADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EAvBA;;AA6BA;AACA,kBADA;AAEA,iBAFA,EA7BA;;AAiCA;AACA,mBADA;AAEA,oBAFA,EAjCA;;AAqCA;AACA,kBADA;AAEA,2BAFA,EArCA,EAFA;;;AA4CA,MA5CA,kBA4CA;AACA;AACA;AACA;AAFA;AAIA,GAjDA;AAkDA;AACA;AACA;AACA,KAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,KA5BA;AA6BA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBADA;AAEA,kCAFA,EAEA;AACA;AACA;AACA;AACA,6BADA;;AAGA;AACA,iCADA,EACA;AACA,wCAFA;AAGA,yBAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,eAVA;;AAYA,WApBA;;AAsBA;AACA;AACA;AACA,kBADA;AAEA;AACA;AACA;AACA,6BADA;;AAGA;AACA,iCADA,EACA;AACA,0BAFA;AAGA,2BAHA;AAIA;AACA;AACA;AACA;AACA;AACA,eATA;;AAWA,WAlBA;;AAoBA;AACA,KAjFA;AAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAhCA;AAiCA;AACA;AACA,SAnCA;;;;AAuCA,KAvIA,EAlDA,E","file":"components/bgyxedit/bgyxedit.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./bgyxedit.vue?vue&type=template&id=12f67dc4&\"\nvar renderjs\nimport script from \"./bgyxedit.vue?vue&type=script&lang=js&\"\nexport * from \"./bgyxedit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/bgyxedit/bgyxedit.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bgyxedit.vue?vue&type=template&id=12f67dc4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bgyxedit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bgyxedit.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view style=\"align-items: center; display: flex;flex-direction: column;border-radius: 8rpx; border: 1rpx solid #d8d8d8;padding: 12rpx;\">\r\n\t\t<view style=\"width: 100%;\" v-for=\"(u,i) in taskinfodtv\" :key=\"i\">\r\n\t\t\t<view @longpress=\"delthisel(i, u.type)\" v-if=\"u.type=='text'\" style=\"width: 100%;\">\r\n\t\t\t\t<textarea @confirm=\"returnthisinfo()\" @input=\"returnthisinfo()\" @blur=\"returnthisinfo()\" style=\"width: 100%;padding: 0rpx;min-height: 40rpx;\" auto-height :placeholder=\"placeholderText\" :focus=\"u.f\" :clearable=\"false\" v-model=\"taskinfodtv[i].value\" />\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"u.type=='img'\" >\r\n\t\t\t\t<image @longpress=\"delthisel(i)\" :src=\"taskinfodtv[i]['value']\" mode=\"aspectFit\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"u.type=='video'\" style=\"width: 100%;\">\r\n\t\t\t\t<video @longpress=\"delthisel(i)\" src=\"/static/55.mp4\" style=\"width: 680rpx;margin: auto;\" controls></video>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view style=\"width: 100%;display: flex;justify-content: space-between;align-items: center;margin-top: 100rpx;\">\r\n\t\t\t<view style=\"margin:8rpx 24rpx 0rpx 10rpx;\">\r\n\t\t\t\t<!-- <image v-if=\"showdone\" @click=\"returnthisinfo()\" src=\"@/static/done.png\" style=\"width: 50rpx;height: 50rpx;\" mode=\"widthFix\"></image> -->\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view style=\"display: flex;align-items: center;\">\r\n\t\t\t\t<view style=\"margin:8rpx 24rpx 0rpx 3rpx;\" v-if=\"text\">\r\n\t\t\t\t\t<image @click=\"addvuetype(0)\" src=\"@/static/wenben.png\" style=\"width: 42rpx;height: 42rpx;\" mode=\"widthFix\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"margin:8rpx 24rpx 0rpx 3rpx;\" v-if=\"img\">\r\n\t\t\t\t\t<image @click=\"addvuetype(1)\" src=\"@/static/tupian.png\" style=\"width: 50rpx;height: 50rpx;\" mode=\"widthFix\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- <view style=\"margin:8rpx 6rpx 0rpx 3rpx;\">\r\n\t\t\t\t\t<image @click=\"addvuetype(2)\" src=\"@/static/shipin.png\" style=\"width: 50rpx;height: 50rpx;\" mode=\"widthFix\"></image>\r\n\t\t\t\t</view> -->\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t</view>\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname:'bgyxedit',\r\n\tprops: {\r\n\t\tplaceholderText: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '请输入内容...'\r\n\t\t},\r\n\t\timg: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true // 默认显示图片上传按钮\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true // 是否显示文本按钮\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '' // 回显内容\r\n\t\t},\r\n\t\ttaskinfodtv: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault() {\r\n\t\t\t\treturn [{type:'text',value:'',f:false}];\r\n\t\t\t}\r\n\t\t},\r\n\t\tmtype: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault() {\r\n\t\t\t\treturn ['text','img','video'];\r\n\t\t\t}\r\n\t\t},\r\n\t\tuploadurl: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\tshowdone: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tfilename: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'uploadfile'\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\thtmlinfo:'',\r\n\t\t\t// taskinfodtv: [{type:'text',value:'',f:false}]\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\treturnthisinfo:function(){\r\n\t\t\tthis.$emit('bgyxchange', this.returninfo());\r\n\t\t},\r\n\t\treturninfo:function(){\r\n\t\t\tvar that = this\r\n\t\t\tvar infoarr = that.taskinfodtv\r\n\t\t\tvar info = '';\r\n\t\t\tfor(var o in infoarr){\r\n\t\t\t\tvar arr = infoarr[o]\r\n\t\t\t\tif(arr.value){\r\n\t\t\t\t\tif(arr.type == 'text'){\r\n\t\t\t\t\t\tinfo = info + '<p style=\"margin:5px auto;\">'+arr.value+'</p>';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(arr.type == 'img'){\r\n\t\t\t\t\t\tinfo = info + '<p style=\"text-align:center;margin:5px auto;\"><img style=\"width:300px;margin:auto;\" src=\"'+arr.value+'\"></p>';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(arr.type == 'video'){\r\n\t\t\t\t\t\tinfo = info + '<p style=\"text-align:center;margin:5px auto;\"><video controls=\"controls\" style=\"width:300px;margin:auto;\" src=\"'+arr.value+'\"></video></p>';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(info){\r\n\t\t\t\tinfo = '<p style=\"text-align:center;margin:5px auto;\">' + info + '</p>'\r\n\t\t\t\treturn {'html':info,'data':infoarr};\r\n\t\t\t}else{\r\n\t\t\t\treturn {'html':'','data':infoarr};\r\n\t\t\t}\r\n\t\t},\r\n\t\taddvuetype:function(e){\r\n\t\t\tvar that = this\r\n\t\t\tif(e == 0){\r\n\t\t\t\tthis.taskinfodtv.push({type:'text',value:'',f:true})\r\n\t\t\t}\r\n\t\t\tif(e == 1){\r\n\t\t\t\t\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount:1,\r\n\t\t\t\t\tsizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t\tsuccess: (chooseImageRes) => {\r\n\t\t\t\t\t\t\tconst tempFilePaths = chooseImageRes.tempFilePaths;\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle:'上传中...'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\t\t\t\turl: that.uploadurl, //上传后返回文件保存的路径即可\r\n\t\t\t\t\t\t\t\t\tfilePath: tempFilePaths[0],\r\n\t\t\t\t\t\t\t\t\tname: 'img',\r\n\t\t\t\t\t\t\t\t\tsuccess: (uploadFileRes) => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('uploadFileRes', uploadFileRes)\r\n\t\t\t\t\t\t\t\t\t\tvar upimg = uploadFileRes.data\r\n\t\t\t\t\t\t\t\t\t\tthat.taskinfodtv.push({type:'img',value:upimg})\r\n\t\t\t\t\t\t\t\t\t\tthat.$emit('bgyxchange', that.returninfo());\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif(e == 2){\r\n\t\t\t\tuni.chooseVideo({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\tvar vd = res.tempFilePath;\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\ttitle:'上传中...'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\t    url: that.uploadurl, //上传后返回文件保存的路径即可\r\n\t\t\t\t\t\t    filePath: vd,\r\n\t\t\t\t\t\t    name: 'video',\r\n\t\t\t\t\t\t    success: (uploadFileRes) => {\r\n\t\t\t\t\t\t\t\t\tvar video = uploadFileRes.data\r\n\t\t\t\t\t\t\t\t\tthat.taskinfodtv.push({type:'video',value:video})\r\n\t\t\t\t\t\t\t\t\tthat.$emit('bgyxchange', that.returninfo());\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tdelthisel:function(i, type){\r\n\t\t\tif (type) return false;\r\n\t\t\tvar that = this\r\n\t\t\tvar arr = this.taskinfodtv\r\n\t\t\t// if(i == 0){\r\n\t\t\t// \tvar list = ['↓下移↓', '删除']\r\n\t\t\t// }\r\n\t\t\t// if(i == arr.length-1){\r\n\t\t\t// \tvar list = ['↑上移↑', '删除']\r\n\t\t\t// }\r\n\t\t\tlet itemList = ['↑上移↑','↓下移↓'];\r\n\t\t\tif (type != 'text') {\r\n\t\t\t\titemList.push('删除')\r\n\t\t\t}\r\n\t\t\tuni.showActionSheet({\r\n\t\t\t    itemList: itemList,\r\n\t\t\t    success: function (res) {\r\n\t\t\t      var k = res.tapIndex\r\n\t\t\t\t\t\tif(k == 0){\r\n\t\t\t\t\t\t\tif(i>0){\r\n\t\t\t\t\t\t\t\tvar ls = arr[i]\r\n\t\t\t\t\t\t\t\tarr[i] = arr[i-1]\r\n\t\t\t\t\t\t\t\tarr[i-1] = ls\r\n\t\t\t\t\t\t\t\tthat.taskinfodtv = []\r\n\t\t\t\t\t\t\t\tfor(var o in arr){\r\n\t\t\t\t\t\t\t\t\tthat.taskinfodtv.push(arr[o])\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthat.$emit('bgyxchange', that.returninfo());\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(k==1){\r\n\t\t\t\t\t\t\tif(i<(arr.length-1)){\r\n\t\t\t\t\t\t\t\tvar ls = arr[i]\r\n\t\t\t\t\t\t\t\tarr[i] = arr[i+1]\r\n\t\t\t\t\t\t\t\tarr[i+1] = ls\r\n\t\t\t\t\t\t\t\tthat.taskinfodtv = []\r\n\t\t\t\t\t\t\t\tfor(var o in arr){\r\n\t\t\t\t\t\t\t\t\tthat.taskinfodtv.push(arr[o])\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthat.$emit('bgyxchange', that.returninfo());\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(k==2){\r\n\t\t\t\t\t\t\tthat.taskinfodtv.splice(i,1)\r\n\t\t\t\t\t\t\tthat.$emit('bgyxchange', that.returninfo());\r\n\t\t\t\t\t\t}\r\n\t\t\t    },\r\n\t\t\t    fail: function (res) {\r\n\t\t\t        console.log(res.errMsg);\r\n\t\t\t    }\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n"],"sourceRoot":""}