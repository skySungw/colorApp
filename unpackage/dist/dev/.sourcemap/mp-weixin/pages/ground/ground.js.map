{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/colorApp/colorApp/pages/ground/ground.vue?1e4c","webpack:///C:/Users/Administrator/Desktop/colorApp/colorApp/pages/ground/ground.vue?1f5c","webpack:///C:/Users/Administrator/Desktop/colorApp/colorApp/pages/ground/ground.vue?18d8","webpack:///C:/Users/Administrator/Desktop/colorApp/colorApp/pages/ground/ground.vue?ca7a","uni-app:///pages/ground/ground.vue","webpack:///C:/Users/Administrator/Desktop/colorApp/colorApp/pages/ground/ground.vue?75b7","webpack:///C:/Users/Administrator/Desktop/colorApp/colorApp/pages/ground/ground.vue?952c"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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CAIA;AACA,mCALA,CAKA;AACA,oCANA,CAMA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KApJA;AAqJA;AACA,mBAtJA,6BAsJA;AACA;AACA,uDADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAPA,EAFA;;;AAYA,KAnKA;AAoKA,iBApKA,2BAoKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,KAlLA;AAmLA;AACA,WApLA,qBAoLA;AACA;AACA,KAtLA;AAuLA;AACA,cAxLA,wBAwLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlMA;AAmMA,kBAnMA,0BAmMA,IAnMA,EAmMA;AACA;AACA;AACA;AACA;AACA;AACA,KAzMA;AA0MA;AACA,kBA3MA,0BA2MA,IA3MA,EA2MA;AACA;AACA;AACA,mCADA;;AAGA,iBALA;;;AAQA,mBARA,GAQA,IARA;AASA,+CATA;AAUA,0DAVA,SAUA,GAVA;;AAYA,yDAZA,UAYA,GAZA;;AAcA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCA7BA;;AA+BA;AACA;AACA,kDAjCA;;AAmCA,KA9OA;AA+OA;AACA,YAhPA,oBAgPA,IAhPA,EAgPA;AACA;AACA;AACA,sBADA;AAEA,yCAFA;AAGA,gCAHA;AAIA,wCAJA;;AAMA,KAxPA;AAyPA;AACA,aA1PA,uBA0PA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA,gBADA;;AAGA,KAtQA,EAtEA,E;;;;;;;;;;;;;ACzFA;AAAA;AAAA;AAAA;AAA64C,CAAgB,02CAAG,EAAC,C;;;;;;;;;;;ACAj6C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/ground/ground.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/ground/ground.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./ground.vue?vue&type=template&id=1d6be7e6&scoped=true&\"\nvar renderjs\nimport script from \"./ground.vue?vue&type=script&lang=js&\"\nexport * from \"./ground.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ground.vue?vue&type=style&index=0&id=1d6be7e6&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d6be7e6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/ground/ground.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ground.vue?vue&type=template&id=1d6be7e6&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ground.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ground.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!-- <view :style=\"[{'padding-top':customBar + 'px', 'height': '100vh'}, {background: '#fff'}]\"> -->\r\n\t<view class=\"full-height absolute flex flex-direction bg-white\">\r\n\t\t<cu-custom bgColor=\"bg-gradual-green\" :isBack=\"false\">\r\n\t\t\t<view slot=\"serach\">\r\n\t\t\t\t<view class=\"location flex\" @tap=\"onSelectAddress\">\r\n\t\t\t\t\t<image class=\"location__img\" src=\"/static/index-location.png\"></image>\r\n\t\t\t\t\t<view class=\"location__title\">{{ addressData.title ? addressData.title : '定位中...' }}</view>\r\n\t\t\t\t\t<image class=\"location__arrow\" src='/static/bottom-arrow.png'></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</cu-custom>\r\n\t\t<view class=\"bg-gradual-green\">\r\n\t\t\t<!-- 搜索条 -->\r\n\t\t\t<view class=\"cu-bar search\">\r\n\t\t\t\t<view class=\"search-form round\">\r\n\t\t\t\t\t<text class=\"cuIcon-search\"></text>\r\n\t\t\t\t\t<input type=\"text\" :placeholder=\"placeholder\" :disabled=\"true\" confirm-type=\"search\" @click=\"goAdPage({\r\n\t\t\t\t\t\tlink: '/pages/sub/search/search?type='+ activeIndex\r\n\t\t\t\t\t})\"></input>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 帖子列表 -->\r\n\t\t<block v-if=\"list.length > 0\">\r\n\t\t\t<view class=\"card-list_container flex-1\" v-if=\"activeIndex == 0\">\r\n\t\t\t\t<scroll-view :scroll-top=\"scrollTop\" scroll-y=\"true\" class=\"scroll-Y\" @scrolltoupper=\"upper\" @scrolltolower=\"lower\"\r\n\t\t\t\t@scroll=\"scroll\">\r\n\t\t\t\t\t<view style=\"display:none\">\r\n\t\t\t\t\t\t<image v-for=\"(item, index) in images\" :key=\"item.id\" :id=\"item.id\" :src=\"item.pic\" @load=\"onImageLoad\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 瀑布渲染 -->\r\n\t\t\t\t\t<view class=\"img_item\" v-for=\"(colItem, colIndex) in cols\" :key=\"colIndex\">\r\n\t\t\t\t\t\t<view v-for=\"(item, index) in colItem\" :key=\"item.id\" @tap=\"goPage\" :data-item=\"item\">\r\n\t\t\t\t\t\t\t<image class=\"img-face\" :src=\"item.pic\" :style=\"[{'height':item.height + 'px'}]\"></image>\r\n\t\t\t\t\t\t\t<view class=\"img-topic flex\">\r\n\t\t\t\t\t\t\t\t<view class=\"img-topic_tag flex align-center\" v-for=\"(topicItem, topicIndex) in item.articleTopic\" :key=\"topicIndex\">\r\n\t\t\t\t\t\t\t\t\t<text>#</text> {{ topicItem.name }}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"card-title\">{{ item.articleTitle }}</view>\r\n\t\t\t\t\t\t\t<view class=\"card-info flex flex-bettwen-space margin-bottom-sm\">\r\n\t\t\t\t\t\t\t\t<view class=\"card-header text-sm text-gray flex align-center\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"item.wxHeadImg\"></image>\r\n\t\t\t\t\t\t\t\t\t<text>{{ item.memberName }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t<!-- <view class=\"cu-tag line-grey sm round\" @tap.stop=\"onZan\" :data-item=\"item\" :data-colindex=\"colIndex\" :data-index=\"index\">\r\n\t\t\t\t\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"margin-right-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t:class=\"[{'cuIcon-appreciatefill text-red': item.articleDetail.isLikes}, {'cuIcon-appreciate text-gray': !item.articleDetail.isLikes}]\"\r\n\t\t\t\t\t\t\t\t\t\t></text>\r\n\t\t\t\t\t\t\t\t\t\t{{ item.articleDetail.likesCount }}\r\n\t\t\t\t\t\t\t\t\t</view> -->\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- <Card v-for=\"(item, index) in list\" :key=\"index\" :item=\"item\" :source=\"1\"></Card> -->\r\n\t\t\t\t\t<view v-if=\"noMoreFlag\" class=\"text-center padding-sm padding-bottom-xl\">我是有底线的~</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t\t<!-- <Card v-for=\"(item, index) in list\" :key=\"index\" :item=\"item\" :source=\"1\"></Card> -->\r\n\t\t\t</view>\r\n\t\t</block>\r\n\t\t<Empty v-if=\"!initPage && list.length == 0\" msg=\"暂无数据~\" />\r\n\t\t<!-- <view class=\"card-list_container flex-1\" v-if=\"activeIndex == 1\">\r\n\t\t\t<Card v-for=\"(item, index) in list\" :key=\"index\" :item=\"item\" :source=\"1\"></Card>\r\n\t\t</view>\r\n\t\t<view class=\"card-list_container flex-1\" v-if=\"activeIndex == 2\">\r\n\t\t\t<ActiveCard v-for=\"(item, index) in list\" :key=\"index\" :item=\"item\"></ActiveCard>\r\n\t\t</view> -->\r\n\t\t<!-- 发布按钮 -->\r\n\t\t<!-- <view class=\"publish bg-gradual-green\" v-if=\"publishShow\"  @click=\"onPublish\">发布</view> -->\r\n\t\t<!-- <view class=\"publish\" @click=\"onPublish\">发布</view> -->\r\n\t\t<!-- 其它区域 -->\r\n\t\t<NavBar :index=\"2\"></NavBar>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport TabBar from '@/components/tab';\r\n\timport NavBar from '@/components/navBar';\r\n\timport Card from '@/components/card';\r\n\timport ActiveCard from '@/components/activeCard';\r\n\timport Empty from '@/components/empty.vue';\r\n\timport { onFetchArticle, onFetchActivity, saveUserLocation, selectAddressByLat } from '@/api';\r\n\t\r\n\tlet col1H = 0;\r\n\tlet col2H = 0;\r\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\tTabBar,\r\n\t\t\tNavBar,\r\n\t\t\tCard,\r\n\t\t\tActiveCard,\r\n\t\t\tEmpty\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\timgWidth: 0, // 图片宽度\r\n\t\t\t\tcols: [[], []],\r\n\t\t\t\tloadingCount: 0,\r\n\t\t\t\timages: [],\r\n\t\t\t\tscrollTop: 0,\r\n\t\t\t\told: {\r\n\t\t\t\t\t\tscrollTop: 0\r\n\t\t\t\t},\r\n\t\t\t\taddressData: {\r\n\t\t\t\t\ttitle: '定位中...',\r\n\t\t\t\t},\r\n\t\t\t\tinitPage: true, // 是否获取完数据\r\n\t\t\t\tplaceholder: '搜索文章',\r\n\t\t\t\ttoken: null, \r\n\t\t\t\tpublishShow: false, // 显示发布按钮\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tsize: 10, // 页码\r\n\t\t\t\t\tcurrent: 1, // 当前页\r\n\t\t\t\t\ttotal: 0, // 总数量\r\n\t\t\t\t\tarticleType: 0, // 0 - 正常帖子，1 - 官方帖子\r\n\t\t\t\t\tlat: '',\r\n\t\t\t\t\tlng: ''\r\n\t\t\t\t},\r\n\t\t\t\tcustomBar: this.CustomBar + this.StatusBar + 40,\r\n\t\t\t\tlist: [], // 帖子列表\r\n\t\t\t\tactiveIndex: 0,\r\n\t\t\t\tdictList: [], // 小区列表\r\n\t\t\t\tnoMoreFlag: false, // 是否有更多数据\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tlet ww = res.windowWidth;\r\n\t\t\t\t\tlet wh = res.windowHeight;\r\n\t\t\t\t\tlet imgWidth = ww * 0.48;\r\n\t\t\t\t\tlet scrollH = wh;\r\n\t\t\t\t\t// 图片宽度\r\n\t\t\t\t\tthis.imgWidth = imgWidth;\r\n\t\t\t\t\t// this.loadImages();\r\n\t\t\t\t\tthis.init();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.userId = uni.getStorageSync('userId');\r\n\t\t\tthis.token = uni.getStorageSync('token');\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\t// uni.$off('operateHandle');\r\n\t\t},\r\n\t\tonPullDownRefresh() {\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '刷新中...'\r\n\t\t\t});\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tuni.stopPullDownRefresh();\r\n\t\t\t\tthis.initParams();\r\n\t\t\t}, 2000);\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 初始化页面经纬度等数据\r\n\t\t\tinit() {\r\n\t\t\t\t// 获取经纬度，并初始化列表数据\r\n\t\t\t\tuni.showLoading();\r\n\t\t\t\tthis.params.lat = uni.getStorageSync('lat');\r\n\t\t\t\tthis.params.lng = uni.getStorageSync('lng');\r\n\t\t\t\tconst addressInfo = uni.getStorageSync('addressInfo')\r\n\t\t\t\tif (!addressInfo?.lat) {\r\n\t\t\t\t\tthis.getSystemLocation((res) => {\r\n\t\t\t\t\t\tthis.params.lat = res.latitude;\r\n\t\t\t\t\t\tthis.params.lng = res.longitude;\r\n\t\t\t\t\t\tuni.setStorageSync('lat', res.latitude);\r\n\t\t\t\t\t\tuni.setStorageSync('lng', res.longitude);\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t// 获取小区信息\r\n\t\t\t\t\t\tthis.getDictList();\r\n\t\t\t\t\t\t// 获取帖子列表\r\n\t\t\t\t\t\tthis.initParams();\r\n\t\t\t\t\t}, () => {\r\n\t\t\t\t\t\tthis.addressData.title = '选择小区'\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tthis.initParams();\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.addressData = addressInfo;\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t// // 获取小区信息\r\n\t\t\t\t\t// this.getDictList();\r\n\t\t\t\t\tthis.initParams();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 根据经纬度获取小区信息\r\n\t\t\tasync getDictList() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await selectAddressByLat({\r\n\t\t\t\t\t\tlat: this.params.lat,\r\n\t\t\t\t\t\tlng: this.params.lng,\r\n\t\t\t\t\t\tsize: 10,\r\n\t\t\t\t\t\tcurrent: 1\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tthis.dictList = res.data.records;\r\n\t\t\t\t\t\tif (this.dictList.length > 0) {\r\n\t\t\t\t\t\t\tthis.addressData = this.dictList[0];\r\n\t\t\t\t\t\t\tthis.addressData.title = this.dictList[0].title;\r\n\t\t\t\t\t\t\tuni.setStorageSync('addressInfo', this.addressData);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgoPage(e) {\r\n\t\t\t\tconst item = e.currentTarget.dataset['item'];\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/sub/article/article?id='+ item.articleCode\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonZan(e) {\r\n\t\t\t\tconst data = e.currentTarget.dataset\r\n\t\t\t\tconst { item, colindex, index } = data;\r\n\t\t\t\tthis.cols[colindex][index].articleDetail.isLikes = !item.articleDetail.isLikes;\r\n\t\t\t},\r\n\t\t\t// 滚动到顶部\r\n\t\t\tupper(e) {\r\n\t\t\t\t\t// console.log('upper', e)\r\n\t\t\t},\r\n\t\t\t// 滚动到底部\r\n\t\t\tlower(e) {\r\n\t\t\t\tif (this.hasNext()) {\r\n\t\t\t\t\tthis.noMoreFlag = false;\r\n\t\t\t\t\tthis.params.current++;\r\n\t\t\t\t\tthis.getArticleList();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.noMoreFlag = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 滚动事件\r\n\t\t\tscroll(e) {\r\n\t\t\t\t\tthis.old.scrollTop = e.detail.scrollTop\r\n\t\t\t},\r\n\t\t\t// 到顶\r\n\t\t\tgoTop(e) {\r\n\t\t\t\tthis.scrollTop = this.old.scrollTop\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tthis.scrollTop = 0\r\n\t\t\t\t});\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\ttitle:\"纵向滚动 scrollTop 值已被修改为 0\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 整合图片\r\n\t\t\tloadImages(list) {\r\n\t\t\t\tlist.forEach((v, i) => {\r\n\t\t\t\t\tlist[i].pic = v.articleContentImg[0];\r\n\t\t\t\t\tlist[i].height = 0;\r\n\t\t\t\t});\r\n\t\t\t\tlet images = list;\r\n\t\t\t\tlet baseId = \"img-\" + (+new Date());\r\n\t\t\t\tfor (let i = 0; i < images.length; i++) {\r\n\t\t\t\t\timages[i].id = baseId + \"-\" + i;\r\n\t\t\t\t}\r\n\t\t\t\tthis.loadingCount = images.length;\r\n\t\t\t\tthis.images = images;\r\n\t\t\t},\r\n\t\t\t// 页面图片，分组\r\n\t\t\tonImageLoad(e) {\r\n\t\t\t\tlet imageId = e.currentTarget.id;\r\n\t\t\t\tlet oImgW = e.detail.width;         //图片原始宽度\r\n\t\t\t\tlet oImgH = e.detail.height;        //图片原始高度\r\n\t\t\t\tlet imgWidth = this.imgWidth;  //图片设置的宽度\r\n\t\t\t\tlet scale = imgWidth / oImgW;        //比例计算\r\n\t\t\t\tlet imgHeight = oImgH * scale;      //自适应高度\r\n\t\t\t\r\n\t\t\t\tlet images = this.images;\r\n\t\t\t\tlet imageObj = null;\r\n\t\t\t\r\n\t\t\t\tfor (let i = 0; i < images.length; i++) {\r\n\t\t\t\t\t\tlet img = images[i];\r\n\t\t\t\t\t\tif (img.id === imageId) {\r\n\t\t\t\t\t\t\t\timageObj = img;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\timageObj.height = imgHeight;\r\n\t\t\t\r\n\t\t\t\tlet loadingCount = this.loadingCount - 1;\r\n\t\t\t\tlet col1 = this.cols[0];\r\n\t\t\t\tlet col2 = this.cols[1];\r\n\t\t\t\r\n\t\t\t\tif (col1H <= col2H) {\r\n\t\t\t\t\t\tcol1H += imgHeight;\r\n\t\t\t\t\t\tcol1.push(imageObj);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t\tcol2H += imgHeight;\r\n\t\t\t\t\t\tcol2.push(imageObj);\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tthis.loadingCount = loadingCount;\r\n\t\t\t\tthis.cols[0] = col1;\r\n\t\t\t\tthis.cols[1] = col2;\r\n\t\t\t\r\n\t\t\t\tif (!loadingCount) {\r\n\t\t\t\t\t\tthis.images = [];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 地图选位置\r\n\t\t\tonSelectAddress() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/subpackages/address/selectAddress',\r\n\t\t\t\t\tevents: {\r\n\t\t\t\t\t\t// 为指定事件添加一个监听器，获取被打开页面传送到当前页面的数据\r\n\t\t\t\t\t\tonChangeAddress: ({data}) => {\r\n\t\t\t\t\t\t\tthis.addressData.title = data.title;\r\n\t\t\t\t\t\t\tthis.addressData.lng = data.lng;\r\n\t\t\t\t\t\t\tthis.addressData.lat = data.lat;\r\n\t\t\t\t\t\t\tuni.setStorageSync('addressInfo', this.addressData);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonPublishShow() {\r\n\t\t\t\tif (!this.token) {\r\n\t\t\t\t\tthis.publishShow = false;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.activeIndex == 0) {\r\n\t\t\t\t\tthis.publishShow =  true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.userId == 0) {\r\n\t\t\t\t\t\tthis.publishShow =  true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.publishShow = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 是否有下一页\r\n\t\t\thasNext() {\r\n\t\t\t\treturn this.params.current < Math.ceil(this.params.total / this.params.size);\r\n\t\t\t},\r\n\t\t\t// 初始化列表页面参数\r\n\t\t\tinitParams() {\r\n\t\t\t\tthis.list = [];\r\n\t\t\t\tthis.images = [];\r\n\t\t\t\tcol1H = 0;\r\n\t\t\t\tcol2H = 0;\r\n\t\t\t\tthis.cols = [[], []];\r\n\t\t\t\tthis.loadingCount = 0;\r\n\t\t\t\tthis.params.current = 1;\r\n\t\t\t\tthis.params.articleType = this.params.articleType || 0;\r\n\t\t\t\tthis.getArticleList(true);\r\n\t\t\t},\r\n\t\t\tonChangeParams(type) {\r\n\t\t\t\t// type 0 - 普通帖子, 1 - 官方帖子\r\n\t\t\t\tthis.params.articleType = type;\r\n\t\t\t\tthis.initParams();\r\n\t\t\t\t// 判断是否展示发布按钮\r\n\t\t\t\tthis.onPublishShow();\r\n\t\t\t},\r\n\t\t\t// 获取帖子页面\r\n\t\t\tasync getArticleList(flag) {\r\n\t\t\t\tif (!flag) {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: '加载中...'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet res = null;\r\n\t\t\t\t\tif (this.params.articleType === 2) {\r\n\t\t\t\t\t\tres = await onFetchActivity(this.params);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tres = await onFetchArticle(this.params);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tthis.initPage = false;\r\n\t\t\t\t\t\tthis.params.total = res.data.total;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 整合图片\r\n\t\t\t\t\t\tthis.loadImages(res.data.records);\r\n\t\t\t\t\t\tif (this.params.current === 1) {\r\n\t\t\t\t\t\t\tthis.list = res.data.records;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.list = this.list.concat(res.data.records);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// 是否有下一页数据\r\n\t\t\t\t\t\t// this.hasNext = res.hasNext;\r\n\t\t\t\t\t\t// console.log(\"this.list\", this.list);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tthis.initPage = false;\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tconsole.log('errs', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 跳页面\r\n\t\t\tgoAdPage(item) {\r\n\t\t\t\tconsole.log('item', item);\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: item.link,\r\n\t\t\t\t\tsuccess: res => {},\r\n\t\t\t\t\tfail: () => {},\r\n\t\t\t\t\tcomplete: () => {}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 发布\r\n\t\t\tonPublish() {\r\n\t\t\t\tlet url = '/pages/sub/publish/';\r\n\t\t\t\t// 活动\r\n\t\t\t\tif (this.activeIndex == 2) {\r\n\t\t\t\t\turl += 'publishActive';\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 非活动\r\n\t\t\t\t\turl += 'index';\r\n\t\t\t\t}\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.search {\r\n\t\theight: 100upx;\r\n\t}\r\n\t.card-list_container {\r\n\t\tpadding-bottom: 100upx;\r\n\t\toverflow: hidden;\r\n\t\t.img_item {\r\n\t\t\twidth: 48%;\r\n\t\t\tmargin: 1%;\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tvertical-align: top;\r\n\t\t\t.img-topic {\r\n\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\t&_tag {\r\n\t\t\t\t\tmargin-right: 5upx;\r\n\t\t\t\t\tpadding: 5upx 0;\r\n\t\t\t\t\tfont-size: 22upx;\r\n\t\t\t\t\tcolor: #9D9FB8;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\ttext {\r\n\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\tfont-size: 16upx;\r\n\t\t\t\t\t\twidth: 26upx;\r\n\t\t\t\t\t\theight: 26upx;\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\tline-height: 26upx;\r\n\t\t\t\t\t\tbackground-color: #000;\r\n\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\tmargin-right: 5upx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.img-face {\r\n\t\t\t\tborder-radius: 10upx;\r\n\t\t\t}\r\n\t\t\t.card-title {\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\tfont-size: 24upx;\r\n\t\t\t\tmargin: 10upx 0;\r\n\t\t\t}\r\n\t\t\t.card-info {\r\n\t\t\t\t.card-header {\r\n\t\t\t\t\tfont-size: 20upx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\twidth: 30upx;\r\n\t\t\t\t\t\theight: 30upx;\r\n\t\t\t\t\t\tmargin-right: 10upx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.location {\r\n\t\talign-items: center;\r\n\t\tpadding-left: 10upx;\r\n\t}\r\n\t.location__img {\r\n\t  width: 36upx;\r\n\t  height: 36upx;\r\n\t  padding-right: 8upx;\r\n\t  flex-shrink: 0;\r\n\t  margin-top: 2upx;\r\n\t}\r\n\t\r\n\t.location__arrow {\r\n\t  width: 14upx;\r\n\t  height: 14upx;\r\n\t  flex-shrink: 0;\r\n\t  margin-left: 10upx;\r\n\t}\r\n</style>\r\n","import mod from \"-!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ground.vue?vue&type=style&index=0&id=1d6be7e6&scoped=true&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.9.3.20201014\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ground.vue?vue&type=style&index=0&id=1d6be7e6&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1644847632455\n      var cssReload = require(\"E:/HBuilderX.2.9.3.20201014/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}