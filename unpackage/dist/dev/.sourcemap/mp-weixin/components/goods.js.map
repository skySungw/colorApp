{"version":3,"sources":["webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/components/goods.vue?6670","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/components/goods.vue?5f6d","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/components/goods.vue?2e8d","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/components/goods.vue?2663","uni-app:///components/goods.vue","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/components/goods.vue?5975","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/components/goods.vue?1eb9"],"names":[],"mappings":"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","file":"components/goods.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./goods.vue?vue&type=template&id=3e24efaa&\"\nvar renderjs\nimport script from \"./goods.vue?vue&type=script&lang=js&\"\nexport * from \"./goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goods.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/goods.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=template&id=3e24efaa&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"goods-container solid-bottom\">\r\n\t\t<!-- 我的主页 -->\r\n\t\t<view v-if=\"source == 0\" class=\"goods-item flex\" @click=\"onGoodsDetail\">\r\n\t\t\t<image class=\"big\" :src=\"item.goodsImgArray[0]\" :lazy-load=\"true\"></image>\r\n\t\t\t<view class=\"goods-item_container flex-1 padding-left-xs\">\r\n\t\t\t\t<text class=\"text-bold goods-item_title margin-none\">{{ item.goodsName }}</text>\r\n\t\t\t\t<view class=\"text-bold goods-item_info\">{{ item.goodsDesc }}</view>\r\n\t\t\t\t<view class=\"goods-item_address\" v-if=\"item.goodsAddress\">地址：{{ item.goodsAddress }}</view>\r\n\t\t\t\t<view class=\"goods-item_address\" v-if=\"item.distance\">距您 <text class=\"text-red padding-lr-sm\">{{item.distance}}</text> km</view>\r\n\t\t\t\t<view class=\"goods-item_price text-red text-bold\">￥ {{ item.goodsPrice }}</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 商品收藏 -->\r\n\t\t<view v-if=\"source == 5\" class=\"goods-item flex\" @click=\"onGoodsDetail\">\r\n\t\t\t<image :src=\"item.goodsImgArray[0]\" :lazy-load=\"true\"></image>\r\n\t\t\t<view class=\"goods-item_container flex-1 padding-left-xs\">\r\n\t\t\t\t<text class=\"text-bold goods-item_title margin-none\">{{ item.goodsName }}</text>\r\n\t\t\t\t<view class=\"text-bold goods-item_info\">{{ item.goodsDesc }}</view>\r\n\t\t\t\t<view class=\"goods-item_address\" v-if=\"item.goodsAddress\">地址：{{ item.goodsAddress }}</view>\r\n\t\t\t\t<view class=\"goods-item_address\" v-if=\"item.distance\">距您 <text class=\"text-red padding-lr-sm\">{{item.distance}}</text> km</view>\r\n\t\t\t\t<view class=\"goods-item_price text-red text-bold\">\r\n\t\t\t\t\t<text class=\"cu-tag radius margin-right-sm\" :class=\"goodsState.className\">{{ goodsState.label }}</text>\r\n\t\t\t\t\t<text>￥ {{ item.goodsPrice }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 产品库列表 -->\r\n\t\t<view v-if=\"source == 2\" class=\"relative\">\r\n\t\t\t<view class=\"products-content\" @tap=\"onGoodsDetail\">\r\n\t\t\t\t<image :src=\"item.goodsImgArray[0]\" mode=\"aspectFill\" :lazy-load=\"true\"></image>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<text class=\"text-bold goods-item_title margin-none\">{{ item.goodsName }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"goods-item_price text-red text-bold\">￥ {{ item.goodsPrice }}</view>\r\n\t\t\t\t<view class=\"text-grey text-bold\">已售 {{ item.salesCount }} 件</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"delete-absolute delete\">\r\n\t\t\t\t<text v-if=\"!operate\" class=\"cuIcon-roundadd lg text-gray add-goods-icon\" @tap=\"addGoods\"></text>\r\n\t\t\t\t<text v-else class=\"cuIcon-delete lg text-gray add-goods-icon\" @tap=\"deleteGoods(true)\"></text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- <view v-if=\"source == 2\" class=\"goods-item flex\">\r\n\t\t\t<image :src=\"item.goodsImgArray[0]\" :lazy-load=\"true\"></image>\r\n\t\t\t<view class=\"goods-item_container flex-1 padding-left-xs\">\r\n\t\t\t\t<text class=\"text-bold goods-item_title margin-none\">{{ item.goodsName }}</text>\r\n\t\t\t\t<view class=\"text-bold goods-item_info\">{{ item.goodsDesc }}</view>\r\n\t\t\t\t<view class=\"goods-item_address\" v-if=\"item.goodsAddress\">地址：{{ item.goodsAddress }}</view>\r\n\t\t\t\t<view class=\"goods-item_address\" v-if=\"item.distance\">距您 <text class=\"text-red padding-lr-sm\">{{item.distance}}</text> km</view>\r\n\t\t\t\t<view class=\"goods-item_price text-red text-bold\">￥ {{ item.goodsPrice }}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex align-center\">\r\n\t\t\t\t<text v-if=\"!operate\" class=\"cuIcon-roundadd lg text-gray add-goods-icon\" @tap=\"addGoods\"></text>\r\n\t\t\t\t<text v-else class=\"cuIcon-delete lg text-gray add-goods-icon\" @tap=\"deleteGoods(true)\"></text>\r\n\t\t\t</view>\r\n\t\t</view> -->\r\n\t\t<!-- 橱窗列表，圈友商品 -->\r\n\t\t<view v-if=\"source == 3 && goodsType == 1\" class=\"relative shop-products\">\r\n\t\t\t<view class=\"products-content\" @tap=\"onGoodsDetail\">\r\n\t\t\t\t<image :src=\"item.goodsImgArray[0]\" mode=\"aspectFill\" :lazy-load=\"true\"></image>\r\n\t\t\t\t<view class=\"flex flex-align-center\">\r\n\t\t\t\t\t<image class=\"photo\" :src=\"item.wxHeadImg\"></image>\r\n\t\t\t\t\t<text class=\"flex-1 text-bold goods-item_title margin-none\">{{ item.goodsName }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"goods-item_price text-red text-bold\">￥ {{ item.goodsPrice }}</view>\r\n\t\t\t\t<!-- <view class=\"text-grey text-bold\">已售 {{ item.salesCount }} 件</view> -->\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"operate\" class=\"delete-absolute delete\">\r\n\t\t\t\t<text class=\"cuIcon-roundclosefill lg text-gray add-goods-icon\" @tap=\"deleteGoods(false)\"></text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 橱窗列表，京东商品 -->\r\n\t\t<view v-if=\"source == 3 && goodsType == 2\" class=\"relative shop-products\">\r\n\t\t\t<view class=\"products-content\" @tap=\"onGoodsDetail\">\r\n\t\t\t\t<image class=\"products-content_goods__img\" :style=\"'width: ' + imgWidth + 'px; height: ' + imgWidth + 'px;'\" :src=\"item.goodsImgArray[0]\" mode=\"aspectFill\" :lazy-load=\"true\"></image>\r\n\t\t\t\t<!-- <view class=\"flex bg-yellow text-red text-sm text-center text-bold flex-align-center\">\r\n\t\t\t\t\t<view class=\"flex-1\">佣金 ￥3.99</view>\r\n\t\t\t\t\t<view>|</view>\r\n\t\t\t\t\t<view class=\"flex-1\">佣金比例 2%</view>\r\n\t\t\t\t</view> -->\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<text class=\"text-bold margin-none text-lg\">{{ item.goodsName }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<text class=\"text-xl text-red text-bold padding-right-sm\">￥{{ item.goodsPrice }}</text>\r\n\t\t\t\t\t<text class=\"text-sm text-grey text-through\" v-if=\"item.goodsCostPrice\">￥{{ item.goodsCostPrice }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- <view class=\"text-grey text-bold\">已售 {{ 3 }} 件</view> -->\r\n\t\t\t</view>\r\n\t\t<!-- \t<view v-if=\"operate\" class=\"delete-absolute delete\">\r\n\t\t\t\t<text class=\"cuIcon-roundclosefill lg text-gray add-goods-icon\" @tap=\"deleteGoods(false)\"></text>\r\n\t\t\t</view> -->\r\n\t\t</view>\r\n\t\t<!-- <view v-if=\"source == 3\" class=\"goods-item flex\">\r\n\t\t\t<image :src=\"item.goodsImgArray[0]\" :lazy-load=\"true\"></image>\r\n\t\t\t<view class=\"goods-item_container flex-1 padding-left-xs\">\r\n\t\t\t\t<text class=\"text-bold goods-item_title margin-none\">{{ item.goodsName }}</text>\r\n\t\t\t\t<view class=\"text-bold goods-item_info\">{{ item.goodsDesc }}</view>\r\n\t\t\t\t<view class=\"goods-item_address\" v-if=\"item.goodsAddress\">地址：{{ item.goodsAddress }}</view>\r\n\t\t\t\t<view class=\"goods-item_address\" v-if=\"item.distance\">距您 <text class=\"text-red padding-lr-sm\">{{item.distance}}</text> km</view>\r\n\t\t\t\t<view class=\"goods-item_price text-red text-bold\">￥ {{ item.goodsPrice }}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex align-center\">\r\n\t\t\t\t<text v-if=\"operate\" class=\"cuIcon-delete lg text-gray add-goods-icon\" @tap=\"deleteGoods(false)\"></text>\r\n\t\t\t</view>\r\n\t\t</view> -->\r\n\t\t<!-- 个人发布到站长橱窗，选择商品列表 -->\r\n\t\t<view v-if=\"source == 4\" class=\"goods-item flex\" @tap=\"onGoodsDetail\">\r\n\t\t\t<!-- <view class=\"flex align-center padding-right-sm\" @tap=\"onGoodsChecked\">\r\n\t\t\t\t<view class=\"icon padding-right-sm\" :class=\"[{'cuIcon-roundcheckfill text-green': goodsChecked}, {'cuIcon-roundcheck text-gray': !goodsChecked}]\"></view>\r\n\t\t\t</view> -->\r\n\t\t\t<image :src=\"item.goodsImgArray[0]\" :lazy-load=\"true\"></image>\r\n\t\t\t<view class=\"goods-item_container flex-1 padding-left-xs\">\r\n\t\t\t\t<text class=\"text-bold goods-item_title margin-none\">{{ item.goodsName }}</text>\r\n\t\t\t\t<view class=\"text-bold goods-item_info\">{{ item.goodsDesc }}</view>\r\n\t\t\t\t<view class=\"goods-item_address\" v-if=\"item.goodsAddress\">地址：{{ item.goodsAddress }}</view>\r\n\t\t\t\t<view class=\"goods-item_address\" v-if=\"item.distance\">距您 <text class=\"text-red padding-lr-sm\">{{item.distance}}</text> km</view>\r\n\t\t\t\t<view class=\"goods-item_price text-red text-bold\">￥ {{ item.goodsPrice }}</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 我的-我的商品 -->\r\n\t\t<view v-if=\"source == 1\">\r\n\t\t\t<view class=\"goods-item flex\" @click=\"onGoodsDetail\">\r\n\t\t\t\t<image :src=\"item.goodsImgArray[0]\" :lazy-load=\"true\"></image>\r\n\t\t\t\t<view class=\"goods-item_container flex-1 padding-left-xs\">\r\n\t\t\t\t\t<text class=\"text-bold goods-item_title margin-none\">{{ item.goodsName }}</text>\r\n\t\t\t\t\t<view class=\"text-bold goods-item_info\">{{ item.goodsDesc }}</view>\r\n\t\t\t\t\t<view class=\"goods-item_address\" v-if=\"item.goodsAddress\">地址：{{ item.goodsAddress }}</view>\r\n\t\t\t\t\t<view class=\"goods-item_price text-red text-bold\">￥ {{ item.goodsPrice }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"text-right\">\r\n\t\t\t\t<!-- 暂时下架编辑功能 -->\r\n\t\t\t\t<text v-if=\"status == 0\" @tap=\"onEdit\" class=\"cu-tag line-green radius margin-right-sm text-green\">编辑</text>\r\n\t\t\t\t<text v-if=\"status == 0\" @tap=\"onAdd(1)\" class=\"cu-tag line-cu-tag white radius margin-right-sm text-cu-tag white\">上架</text>\r\n\t\t\t\t\r\n\t\t\t\t<text v-if=\"status == 1\" @tap=\"onAdd(0)\" class=\"cu-tag line-cu-tag white radius margin-right-sm text-cu-tag white\">下架</text>\r\n\t\t\t\t<!-- <text @tap=\"onAdd(2)\" class=\"cu-tag line-gray radius text-gray\">删除</text> -->\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { onUpdateGoodsState, onAddGoodsToShowCase, onRemoveGoodsToShowCase } from '@/api';\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\tindex: {\r\n\t\t\t\tdefault: 0,\r\n\t\t\t\ttype: Number // 商品索引\r\n\t\t\t},\r\n\t\t\titem: {\r\n\t\t\t\tdefault: {},\r\n\t\t\t\ttype: Object\r\n\t\t\t},\r\n\t\t\tsource: {\r\n\t\t\t\tdefault: 0, // 来源 1 - 我的-我的商品列表， 0 - 我的-个人主页-我发布的, 2 - 产品库列表，3 - 橱窗列表, 4 - 个人发布到橱窗商品\r\n\t\t\t\ttype: Number\r\n\t\t\t},\r\n\t\t\tstatus: {\r\n\t\t\t\tdefault: 0, // 状态 0 下架 1 上架 2 已售出\r\n\t\t\t\ttype: Number \r\n\t\t\t},\r\n\t\t\tshowcaseId: {\r\n\t\t\t\tdefault: null, // 橱窗id ''\r\n\t\t\t\ttype: Number\r\n\t\t\t},\r\n\t\t\tgoodsType: {\r\n\t\t\t\tdefault: 1, // 商品类型 1 - 圈友商品，2 - 京东商品\r\n\t\t\t\ttype: Number\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\toperate: false ,// 操作\r\n\t\t\t\tgoodsState: '' ,// 商品状态 0 - 未上架， 1 - 上架中， 2 - 已售出\r\n\t\t\t\timgWidth: 0 // 图片宽度\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tlet ww = res.windowWidth;\r\n\t\t\t\t\tlet wh = res.windowHeight;\r\n\t\t\t\t\tlet imgWidth = ww - 60;\r\n\t\t\t\t\t// 图片宽度\r\n\t\t\t\t\tthis.imgWidth = imgWidth / 2;\r\n\t\t\t\t\t\r\n\t\t\t\t\tswitch(this.source) {\r\n\t\t\t\t\t\tcase 2: // 产品库来源\r\n\t\t\t\t\t\t\tthis.operate = this.item.isAdd;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 3: // 橱窗来源，判断是否是当前C的产品，如果是，可以操作删除\r\n\t\t\t\t\t\t\tthis.operate = this.item.showDelete;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 收藏商品页，显示商品状态\r\n\t\t\t\t\tif (this.source === 5) {\r\n\t\t\t\t\t\tconst config = {\r\n\t\t\t\t\t\t\t0: {\r\n\t\t\t\t\t\t\t\tclassName: 'line-gray',\r\n\t\t\t\t\t\t\t\tlabel: '未上架'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t1: {\r\n\t\t\t\t\t\t\t\tclassName: 'bg-green',\r\n\t\t\t\t\t\t\t\tlabel: '出售中'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t2: {\r\n\t\t\t\t\t\t\t\tclassName: 'bg-gray',\r\n\t\t\t\t\t\t\t\tlabel: '已售出'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.goodsState = config[this.item.goodsState];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 删除橱窗商品\r\n\t\t\tdeleteGoods(flag) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '操作',\r\n\t\t\t\t\tcontent: '确认删除商品',\r\n\t\t\t\t\tconfirmText: '确认',\r\n\t\t\t\t\tcancelText: '取消',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tthis.onDeleteGoodsByShop(flag);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync onDeleteGoodsByShop(flag) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await onRemoveGoodsToShowCase({\r\n\t\t\t\t\t\tgoodsIds: [this.item.goodsCode],\r\n\t\t\t\t\t\tshowcaseId: this.showcaseId\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '操作成功',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\t\tif (flag) {\r\n\t\t\t\t\t\t\t\t\tthis.operate = false;\t\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.$emit('refreshList');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// this.$emit('refreshList');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 添加橱窗商品\r\n\t\t\tasync addGoods() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await onAddGoodsToShowCase({\r\n\t\t\t\t\t\tgoodsIds: [this.item.goodsCode],\r\n\t\t\t\t\t\tshowcaseId: this.showcaseId\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '添加成功',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\t\tthis.operate = true;\r\n\t\t\t\t\t\t\t\t// setTimeout(() => {\r\n\t\t\t\t\t\t\t\t// \tthis.$emit('refreshList');\r\n\t\t\t\t\t\t\t\t// }, 2000);\r\n\t\t\t\t\t\t\t\t// this.$emit('refreshList');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 编辑商品\r\n\t\t\tonEdit() {\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl: `/pages/sub/publish/publishGoods?edit=1&goodsCode=${this.item.goodsCode}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 上下架操作\r\n\t\t\tasync onAdd(type) {\r\n\t\t\t\tconst TYPE_TEXT = {\r\n\t\t\t\t\t0: '确认下架',\r\n\t\t\t\t\t1: '确认上架'\r\n\t\t\t\t}\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '操作',\r\n\t\t\t\t\tcontent: TYPE_TEXT[type],\r\n\t\t\t\t\tconfirmText: '确认',\r\n\t\t\t\t\tcancelText: '取消',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tthis.onOperate(type);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync onOperate(type) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await onUpdateGoodsState({\r\n\t\t\t\t\t\tgoodsCode: this.item.goodsCode,\r\n\t\t\t\t\t\toperationType: type\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '操作成功',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tthis.$emit('refreshList');\r\n\t\t\t\t\t\t\t\t}, 2000);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 商品详情\r\n\t\t\tonGoodsDetail() {\r\n\t\t\t\tconst token = uni.getStorageSync('token');\r\n\t\t\t\tlet url;\r\n\t\t\t\tif (this.item.isUrlGoods) {\r\n\t\t\t\t\t// url = `/pages/subpackages/webview/webview`;\r\n\t\t\t\t\tuni.setStorageSync('url', this.item.urlGoods);\r\n\t\t\t\t\tuni.navigateToMiniProgram({\r\n\t\t\t\t\t  appId: 'wx91d27dbf599dff74',\r\n\t\t\t\t\t  path: `pages/union/proxy/proxy?spreadUrl=${encodeURI(this.item.urlGoods)}`,\r\n\t\t\t\t\t  extraData: {},\r\n\t\t\t\t\t  success(res) {\r\n\t\t\t\t\t    // 打开成功\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\turl = '/pages/sub/goods/detail?id=' + this.item.goodsCode;\r\n\t\t\t\t}\r\n\t\t\t\tif (token) {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/sub/login/index',\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t// 通过eventChannel向被打开页面传送数据\r\n\t\t\t\t\t\t\tres.eventChannel.emit('loginUrl', {\r\n\t\t\t\t\t\t\t\tloginUrl: url,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.goods-container {\r\n\t\tbackground: #fff;\r\n\t\tpadding: 20upx 30upx;\r\n\t\t.goods-item {\r\n\t\t\tposition: relative;\r\n\t\t\timage {\r\n\t\t\t\twidth: 144upx;\r\n\t\t\t\theight: 144upx;\r\n\t\t\t\t&.big {\r\n\t\t\t\t\twidth: 180upx;\r\n\t\t\t\t\theight: 180upx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t&_container {\r\n\t\t\t\t& > view {\r\n\t\t\t\t\tmargin: 10upx 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t&_title {\r\n\t\t\t\tfont-size: 34upx;\r\n\t\t\t}\r\n\t\t\t&_info {\r\n\t\t\t\tcolor: #9D9FB8;\r\n\t\t\t\tfont-size: 22upx;\r\n\t\t\t}\r\n\t\t\t&_address {\r\n\t\t\t\tfont-size: 22upx;\r\n\t\t\t}\r\n\t\t\t&_price {\r\n\t\t\t\tfont-size: 32upx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.products-content {\r\n\t\t\timage {\r\n\t\t\t\tborder-radius: 10upx;\r\n\t\t\t\tbox-shadow: 0 0 4upx rgba(0, 0, 0, .2);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.photo {\r\n\t\tborder-radius: 50% !important;\r\n\t\twidth: 30upx;\r\n\t\theight: 30upx;\r\n\t\tmargin-right: 10upx;\r\n\t}\r\n\t.flex-1 {\r\n\t\tflex: 1;\r\n\t}\r\n\t.add-goods-icon {\r\n\t\tfont-size: 40upx;\r\n\t}\r\n\t.delete-absolute {\r\n\t\tposition: absolute;\r\n\t}\r\n\t.delete {\r\n\t\tright: 40upx;\r\n\t\ttop: 40upx;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1647223882769\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}