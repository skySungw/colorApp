(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/subpackages/site/goodsList"],{"1e13":function(t,e,n){"use strict";(function(t){n("e8cf");a(n("66fd"));var e=a(n("ae5a"));function a(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},"265e":function(t,e,n){"use strict";n.r(e);var a=n("9aea"),s=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=s.a},"7eef":function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var s=function(){var t=this,e=t.$createElement;t._self._c},o=[]},"9aea":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(n("a34a")),s=n("651b");function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,a,s,o,i){try{var r=t[o](i),c=r.value}catch(u){return void n(u)}r.done?e(c):Promise.resolve(c).then(a,s)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(a,s){var o=t.apply(e,n);function r(t){i(o,a,s,r,c,"next",t)}function c(t){i(o,a,s,r,c,"throw",t)}r(void 0)}))}}var c=function(){n.e("components/goods").then(function(){return resolve(n("ee12"))}.bind(null,n)).catch(n.oe)},u=function(){n.e("components/empty").then(function(){return resolve(n("e743"))}.bind(null,n)).catch(n.oe)},l={components:{Goods:c,Empty:u},data:function(){return{menuIndex:0,menuTop:this.CustomBar,menu:[{id:1,name:"圈友商品"},{id:2,name:"自营商品"}],params:{size:10,current:1,total:0,lat:"",lng:"",goodsName:"",sortType:0,goodsType:"",showcaseId:""},list:[],isSearchFocus:!1,searchValue:"",timer:null,time:1e3}},onLoad:function(e){this.params.showcaseId=t.getStorageSync("showcaseId")||"",this.init()},onShow:function(){},onReachBottom:function(){console.log("bottom"),this.hasNext()&&(this.params.current++,this.getGoodsList())},methods:{onSearchCancel:function(){this.isSearchFocus=!1,this.searchValue="",this.list=[],this.getGoodsList()},onInput:function(t){var e=this;this.searchValue=t.detail.value,clearTimeout(this.timer),console.log("this.searchValue",this.searchValue),this.timer=setTimeout((function(){clearTimeout(e.timer),e.getGoodsList()}),this.time)},showSearchBar:function(){this.isSearchFocus=!0},onMenuChange:function(t){this.list=[],this.menuIndex=t.currentTarget.dataset["index"],this.params.goodsType=this.menuIndex,this.init()},hasNext:function(){return this.params.current<Math.ceil(this.params.total/this.params.size)},init:function(){this.params.current=1,this.params.total=0,this.list=[],this.getGoodsList()},getGoodsList:function(){var t=this;return r(a.default.mark((function e(){var n;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,Object.assign(t.params,{goodsName:t.searchValue}),e.next=4,(0,s.onFetchGoodsList)(t.params);case 4:n=e.sent,200===n.code&&(t.params.total=n.data.total,1==t.params.current?t.list=n.data.records:t.list=t.list.concat(n.data.records),console.log("this.list",t.list)),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log("err",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}};e.default=l}).call(this,n("543d")["default"])},"9ffa":function(t,e,n){"use strict";var a=n("dd93"),s=n.n(a);s.a},ae5a:function(t,e,n){"use strict";n.r(e);var a=n("7eef"),s=n("265e");for(var o in s)"default"!==o&&function(t){n.d(e,t,(function(){return s[t]}))}(o);n("9ffa");var i,r=n("f0c5"),c=Object(r["a"])(s["default"],a["b"],a["c"],!1,null,"fd358ca4",null,!1,a["a"],i);e["default"]=c.exports},dd93:function(t,e,n){}},[["1e13","common/runtime","common/vendor"]]]);