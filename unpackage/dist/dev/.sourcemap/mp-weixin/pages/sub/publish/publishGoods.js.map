{"version":3,"sources":["uni-app:///main.js","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/pages/sub/publish/publishGoods.vue?cf0e","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/pages/sub/publish/publishGoods.vue?1b8b","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/pages/sub/publish/publishGoods.vue?4750","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/pages/sub/publish/publishGoods.vue?d986","uni-app:///pages/sub/publish/publishGoods.vue","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/pages/sub/publish/publishGoods.vue?104a","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/pages/sub/publish/publishGoods.vue?2229"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,iH,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,qBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqI;AACrI;AACgE;AACL;AACsC;;;AAGjG;AAC+K;AAC/K,gBAAgB,6KAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,mGAAM;AACR,EAAE,4GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAqqB,CAAgB,snBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkGzrB;;;AAGA,2F;;;AAGA,qD;;;AAGA;AACA,sBADA;AAEA,oBAFA,E;;AAIA,M,kBAAA;AACA;AACA,qBADA,EACA;AACA,mBAFA,EAEA;AACA,mDAHA,EAGA;AACA,oBAJA,EAIA;AACA,mBALA,EAKA;AACA,eANA;AAOA,kBAPA,EAOA;AACA,iBARA,EAQA;AACA,oBATA,EASA;AACA,mBAVA,EAUA;AACA,kBAXA,EAWA;AACA,kBAZA,EAYA;AACA,sBAbA,EAaA;AACA,mBAdA,EAcA;AACA,0BAfA,EAeA;AACA,uBAhBA,EAgBA;AACA,4BAjBA;AAkBA,uCAlBA,EAkBA;AACA,sBAnBA,EAmBA;AACA,iBApBA;AAqBA,oBArBA,EAqBA;AACA,oBAtBA;AAuBA,qBAvBA,EAuBA;AACA,kBAxBA;AAyBA,mCAzBA;AA0BA,2BA1BA;AA2BA,qBA3BA;AA4BA,wBA5BA;AA6BA,wBA7BA;AA8BA,eA9BA,EA8BA;AACA,sBA/BA,CA+BA;AACA;AACA;AAjCA;AAmCA,G;AACA,Q,kBAAA,O,EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;AACA,U,sBAAA;AACA;AACA,G;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,G;;;;AAIA;AACA;AACA,C;AACA;AACA;AACA,mBAFA,6BAEA,CAFA,EAEA;AACA;AACA;AACA;AACA;AACA,GAPA;AAQA;AACA,kBATA,8BASA;;AAEA;AACA,4CADA,GAFA,SAEA,GAFA;;AAKA;AACA;AACA,oBADA,GACA,QADA;AAEA;AACA;AACA;AACA,uBALA,GAKA,sBALA;AAMA;AACA;AACA;AACA,eAfA;;AAiBA;AACA,8CAlBA;;AAoBA,GA7BA;AA8BA;AACA,cA/BA,0BA+BA;AACA;AACA;AACA;AACA;AACA,KAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA,cADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SANA,EAFA;;AAUA;AACA;AACA,mBADA;;AAGA,OAdA;;AAgBA,GAzDA;AA0DA;AACA,kBA3DA,8BA2DA;;AAEA,8CAFA,SAEA,GAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,eATA;;AAWA,+CAXA;;AAaA,GAxEA;AAyEA;AACA,cA1EA,0BA0EA;AACA;AACA;AACA;AACA;AACA,KAHA,MAGA;AACA;AACA;AACA;AACA;AACA,cADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SANA,EAFA;;AAUA;AACA;AACA,mBADA;;AAGA,OAdA;;AAgBA,GAnGA;AAoGA;AACA,gBArGA,4BAqGA;;AAEA,gDAFA,SAEA,GAFA;AAGA;AACA;AACA;AACA;AACA,iBAFA;AAGA;AACA;AACA;AACA,eAXA;;AAaA,+CAbA;;AAeA,GApHA;AAqHA;AACA,gBAtHA,4BAsHA;;AAEA,8CAFA,SAEA,GAFA;AAGA;AACA;AACA;AACA,kCAFA,GAEA,WAFA;AAGA;AACA;A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","file":"pages/sub/publish/publishGoods.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/sub/publish/publishGoods.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./publishGoods.vue?vue&type=template&id=7e573d6f&scoped=true&\"\nvar renderjs\nimport script from \"./publishGoods.vue?vue&type=script&lang=js&\"\nexport * from \"./publishGoods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./publishGoods.vue?vue&type=style&index=0&id=7e573d6f&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e573d6f\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/sub/publish/publishGoods.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./publishGoods.vue?vue&type=template&id=7e573d6f&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./publishGoods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./publishGoods.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"publish-content bg-white\" :style=\"[{'padding-bottom': '70px'}, {background: '#fff'}]\">\r\n\t\t<cu-custom bgColor=\"bg-gradual-green\" :isBack=\"true\">\r\n\t\t\t<view slot=\"backText\"></view>\r\n\t\t\t<view slot=\"content\">发布商品</view>\r\n\t\t</cu-custom>\r\n\t\t<!-- <rich-text :nodes=\"strings\"></rich-text> -->\r\n\t\t<view class=\"padding-lr padding-left padding-right padding-top\">\r\n\t\t\t<view class=\"cu-form-group padding-lr-none\">\r\n\t\t\t\t<view class=\"title\">商品名称</view>\r\n\t\t\t\t<input placeholder=\"请输入商品名\" v-model=\"goodsName\"></input>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group padding-lr-none\">\r\n\t\t\t\t<view class=\"title\">商品种类</view>\r\n\t\t\t\t<picker @change=\"onGoodsChange\" :value=\"goodsCategoryIndex\" :range=\"goodsPicker\">\r\n\t\t\t\t\t<view class=\"picker\">\r\n\t\t\t\t\t\t{{goodsPicker[goodsCategoryIndex]}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group padding-lr-none\">\r\n\t\t\t\t<view class=\"title\">商品价格</view>\r\n\t\t\t\t<input placeholder=\"请输入价格\" v-model=\"goodsPrice\" type=\"number\"></input>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group padding-lr-none\">\r\n\t\t\t\t<view class=\"title\">商品数量</view>\r\n\t\t\t\t<input placeholder=\"请输入数量\" v-model=\"goodsStock\" type=\"number\"></input>\r\n\t\t\t</view>\r\n\t\t\t<!-- <view class=\"padding-bottom title\">\r\n\t\t\t\t<input placeholder=\"请输入商品名\" v-model=\"goodsName\" class=\"publish-title\"></input>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"padding-bottom title\">\r\n\t\t\t\t<input placeholder=\"请输入价格\" v-model=\"goodsPrice\" class=\"publish-title\"></input>\r\n\t\t\t</view> -->\r\n\t\t\t<view class=\"goods-content\">\r\n\t\t\t\t<textarea v-model=\"goodsContent\" @input=\"onChangeGoodsDesc\"></textarea>\r\n\t\t\t</view>\r\n\t\t\t<!-- <bgyxedit @bgyxchange=\"getbgyxinfo\" :img=\"false\" :text=\"false\" :placeholderText=\"placeholderText\" :showdone=\"true\" :taskinfodtv=\"info\" filename=\"img\"></bgyxedit> -->\r\n\t\t</view>\r\n\t\t<!-- 商品封面图 -->\r\n\t\t<view class=\"padding-lr\">\r\n\t\t\t<view class=\"padding-top-sm padding-bottom-sm\">\r\n\t\t\t\t<text>请上传商品图（{{ imgList.length }} / {{ maxImg }}）</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bg-white padding-bottom-none\">\r\n\t\t\t\t<view class=\"grid col-4 grid-square flex-sub\">\r\n\t\t\t\t\t<view class=\"bg-img\" v-for=\"(item, index) in imgList\" :key=\"index\" @click=\"onViewImage\" :data-url=\"imgList[index]\">\r\n\t\t\t\t\t\t<image :src='imgList[index]' mode='aspectFill'></image>\r\n\t\t\t\t\t\t<view class=\"cu-tag bg-red\" @tap.stop=\"onDelImg\" :data-index=\"index\">\r\n\t\t\t\t\t\t\t<text class=\"cuIcon-close\"></text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"solids\" @click=\"onChooseImage\" v-if=\"imgList.length < maxImg\">\r\n\t\t\t\t\t\t<text class=\"cuIcon-cameraadd\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 选择地址 -->\r\n\t\t<view class=\"cu-form-group\">\r\n\t\t\t<view class=\"title\">地区信息</view>\r\n\t\t\t<input v-model=\"address\" :disabled=\"true\" @click=\"selectMap\" placeholder=\"请填写地址\"></input>\r\n\t\t\t<text class=\"cuIcon-location\" @click=\"selectMap\" ></text>\r\n\t\t</view>\r\n\t\t<!-- 联系方式 -->\r\n\t\t<view class=\"padding-lr\">\r\n\t\t\t<view class=\"cu-form-group padding-lr-none\">\r\n\t\t\t\t<radio-group class=\"block\" @change=\"onSelectConcat\">\r\n\t\t\t\t\t<label v-for=\"(item, index) in pickerList\" :key=\"index\" >\r\n\t\t\t\t\t\t<radio class=\"text-gradual-green radio margin-right-sm\" :class=\"[{'margin-left-sm': index !==0}]\" :value=\"item.contactType\" :checked=\"item.contactType === selectContactObj.contactType\"></radio> {{ concatList[index] }}\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</radio-group>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 联系方式 -->\r\n\t\t<view v-for=\"(item, index) in pickerList\" :key=\"index\">\r\n\t\t\t<view class=\"cu-form-group\" v-if=\"item.contactType === selectContactObj.contactType\">\r\n\t\t\t\t<view class=\"title\">{{ concatList[index] }}</view>\r\n\t\t\t\t<view v-if=\"selectContactObj.ifNull\" class=\"flex-1\">\r\n\t\t\t\t\t<text class=\"text-red\" @tap=\"onAddContact\">去添加</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-else class=\"flex-1 flex flex-bettwen-space\">\r\n\t\t\t\t\t<image v-if=\"index === 1\" class=\"wechat\" :src=\"selectContactObj.contactContent\"></image>\r\n\t\t\t\t\t<input v-else :disabled=\"true\" :value=\"selectContactObj.contactContent\"></input>\r\n\t\t\t\t\t<text v-if=\"index !== 0\" class=\"text-green\" @tap=\"modifyConcat\">修改</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- <Contact></Contact> -->\r\n\t\t<!-- 发布按钮 -->\r\n\t\t<view class=\"fixed bottom text-right padding z999 flex flex-direction\">\r\n\t\t\t<button class=\"cu-btn lg bg-gradual-green\" @click=\"onCheck\">发布</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { onFetchGoodsDetail, onFetchGoodsCategory, onCreateGoods, onUpdateGoods, onFetchContactType, selectUserLocation, saveUserLocation, onAddGoodsToShowCase } from '@/api';\r\n\timport bgyxedit from '@/components/bgyxedit/bgyxedit';\r\n\timport Contact from '@/components/contact';\r\n\timport ajaxUpload from '@/api/ajaxUpload';\r\n\t\r\n\t// #ifdef MP-WEIXIN\r\n\tconst chooseLocation = requirePlugin('chooseLocation');\r\n\t// #endif     \r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tbgyxedit,\r\n\t\t\tContact\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\teditFlag: false, // 编辑页 false - 新增， true - 编辑\r\n\t\t\t\tgoodsCode: '', // 商品id， 编辑页-获取商品信息使用\r\n\t\t\t\tinfo: [{type:'text',value: [],f:false}], // 回显textarea信息\r\n\t\t\t\tinitFlag: true, // 是否重新加载\r\n\t\t\t\tgoodsName: '', // 商品名称\r\n\t\t\t\tmaxImg: 8,\r\n\t\t\t\tgoodsImg: [], // 商品图片\r\n\t\t\t\timgList: [], // 页面临时图片\r\n\t\t\t\tgoodsPrice: '', // 商品价格\r\n\t\t\t\tgoodsStock: 1, // 商品数量\r\n\t\t\t\tgoodsLat: '', // 纬度\r\n\t\t\t\tgoodsLng: '', // 经度\r\n\t\t\t\tgoodsContent: '', // 商品介绍，带格式\r\n\t\t\t\tgoodsDesc: '', // 商品介绍，纯文本\r\n\t\t\t\tsellerContactType: 0, // 联系方式： 0 手机号1 微信二维码 2 微信号\r\n\t\t\t\tsellerContact: '', // 联系方式\r\n\t\t\t\tselectContactObj: null,\r\n\t\t\t\tconcatList: ['手机号', '二维码', '微信号'], // 联系方式列表\r\n\t\t\t\tgoodsAddress: '',  // 商品地址\r\n\t\t\t\taddress: '',\r\n\t\t\t\tcontact: false, // 没有填写联系方式\r\n\t\t\t\tpickerList: [],\r\n\t\t\t\tcontactList: [], // 联系方式列表\r\n\t\t\t\tlocation: '',\r\n\t\t\t\tplaceholderText: '请简单介绍下您的商品',\r\n\t\t\t\tgoodsCategoryIndex: 0,\r\n\t\t\t\tgoodsPicker: [],\r\n\t\t\t\tgoodsPickerArr: [],\r\n\t\t\t\tgoodsCategoryId: 0,\r\n\t\t\t\tsource: 0, // 0 - 无来源， 1 - 商品橱窗\r\n\t\t\t\tshowcaseId: null, // 橱窗id\r\n\t\t\t\t// picker: [],\r\n\t\t\t\t// strings: '<div>Hello World!</div><div style=\"text-align:center;\"><img src=\"https://bjetxgzv.cdn.bspapp.com/VKCEYUGU-uni-app-doc/d8590190-4f28-11eb-b680-7980c8a877b8.png\"/></div>'\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tif (options.edit) {\r\n\t\t\t\tthis.editFlag = true;\r\n\t\t\t\tthis.goodsCode = options.goodsCode;\r\n\t\t\t\t// 获取商品详情\r\n\t\t\t\tthis.onGetGoodsDetail();\r\n\t\t\t}\r\n\t\t\tconsole.log('editFlag', this.editFlag);\r\n\t\t\tif (options.source) {\r\n\t\t\t\tthis.source = options.source;\r\n\t\t\t\tthis.showcaseId = options.showcaseId;\r\n\t\t\t}\r\n\t\t\tthis.getContactList();\r\n\t\t\tthis.getCatogryList();\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tchooseLocation.setLocation(null);\r\n\t\t},\r\n\t\t/**\r\n\t\t * 生命周期函数--监听页面显示\r\n\t\t */\r\n\t\tonShow: function () {\r\n\t\t\tif (this.initFlag) {\r\n\t\t\t\t\tthis.onSelectLocation();\r\n\t\t\t}\r\n\t\t\tconst location = chooseLocation.getLocation();\r\n\t\t\tif (location) {\r\n\t\t\t\tconsole.log('location', location)\r\n\t\t\t\t// this.address = location.province + location.city + location.district;\r\n\t\t\t\t// const type = Object.prototype.toString.call(location.address);\r\n\t\t\t\t// if (type == '[object Array]') {\r\n\t\t\t\t// \tthis.goodsAddress = location.address[0];\r\n\t\t\t\t// } else if (type == '[object String]') {\r\n\t\t\t\t// \tthis.goodsAddress = location.address;\r\n\t\t\t\t// }\r\n\t\t\t\tthis.address = location.name;\r\n\t\t\t\tthis.goodsLat = location.latitude;\r\n\t\t\t\tthis.goodsLng = location.longitude;\r\n\t\t\t\t\r\n\t\t\t\tthis.onSaveAddress();\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 生命周期函数--监听页面卸载\r\n\t\t */\r\n\t\tonUnload: function () {\r\n\t\t\tchooseLocation.setLocation(null);\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// onChangeGoodsDesc\r\n\t\t\tonChangeGoodsDesc(e) {\r\n\t\t\t\tconsole.log('e', e.target)\r\n\t\t\t\tconst value = e.target.value;\r\n\t\t\t\tthis.goodsContent = value;\r\n\t\t\t\tthis.goodsDesc = value;\r\n\t\t\t},\r\n\t\t\t// 获取商品详情\r\n\t\t\tasync onGetGoodsDetail() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await onFetchGoodsDetail({\r\n\t\t\t\t\t\tgoodsCode: this.goodsCode \r\n\t\t\t\t\t});\r\n\t\t\t\t\tconsole.log('res', res);\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tconst data = res.data;\r\n\t\t\t\t\t\t// this.goodsName = data.goodsName;\r\n\t\t\t\t\t\tObject.assign(this, data);\r\n\t\t\t\t\t\t// this.info = [{type:'text',value: data.goodsContent,f:false}];\r\n\t\t\t\t\t\tconst imgList = res.data.goodsImgArray;\r\n\t\t\t\t\t\tconsole.log('imgList', imgList);\r\n\t\t\t\t\t\tthis.imgList = imgList;\r\n\t\t\t\t\t\tthis.goodsImg = imgList;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tuni.showToast('获取信息失败！');\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 修改联系方式 \r\n\t\t\tmodifyConcat() {\r\n\t\t\t\tlet url = '';\r\n\t\t\t\tif (this.selectContactObj.contactType === 1) {\r\n\t\t\t\t\t// 二维码\t\r\n\t\t\t\t\turl = '/pages/sub/my/settings/wechart?param=';\r\n\t\t\t\t} else if (this.selectContactObj.contactType === 2) {\r\n\t\t\t\t\t// 微信号\r\n\t\t\t\t\turl = '/pages/sub/my/settings/wxNumber?param=';\r\n\t\t\t\t}\r\n\t\t\t\turl += this.selectContactObj.contactContent;\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tevents: {\r\n\t\t\t\t\t\tgetSetting: (data) => {\r\n\t\t\t\t\t\t\tconsole.error('data', data.data)\r\n\t\t\t\t\t\t\tthis.sellerContact = data.data;\r\n\t\t\t\t\t\t\tthis.selectContactObj.ifNull = false;\r\n\t\t\t\t\t\t\tthis.selectContactObj.contactContent = data.data;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tres.eventChannel.emit('setSource', {\r\n\t\t\t\t\t\t\tsource: 1\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取用户地址\r\n\t\t\tasync onSelectLocation() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await selectUserLocation();\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tif (res?.data?.locationAddress) {\r\n\t\t\t\t\t\t\tthis.address = res.data.locationAddress;\r\n\t\t\t\t\t\t\tthis.goodsLat = res.data.locationLat;\r\n\t\t\t\t\t\t\tthis.goodsLng = res.data.locationLng;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 跳转到微信号、微信图片\r\n\t\t\tonAddContact() {\r\n\t\t\t\tlet url = '';\r\n\t\t\t\tif (this.selectContactObj.contactType === 1) {\r\n\t\t\t\t\t// 二维码\t\r\n\t\t\t\t\turl = '/pages/sub/my/settings/wechart';\r\n\t\t\t\t} else if (this.selectContactObj.contactType === 2) {\r\n\t\t\t\t\t// 微信号\r\n\t\t\t\t\turl = '/pages/sub/my/settings/wxNumber';\r\n\t\t\t\t}\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tevents: {\r\n\t\t\t\t\t\tgetSetting: (data) => {\r\n\t\t\t\t\t\t\tconsole.error('data', data.data)\r\n\t\t\t\t\t\t\tthis.sellerContact = data.data;\r\n\t\t\t\t\t\t\tthis.selectContactObj.ifNull = false;\r\n\t\t\t\t\t\t\tthis.selectContactObj.contactContent = data.data;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tres.eventChannel.emit('setSource', {\r\n\t\t\t\t\t\t\tsource: 1\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取分类列表\r\n\t\t\tasync getCatogryList() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await onFetchGoodsCategory();\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tthis.goodsPickerArr = res.data;\r\n\t\t\t\t\t\tthis.goodsPickerArr.forEach(v => {\r\n\t\t\t\t\t\t\tthis.goodsPicker.push(v.categoryName);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (this.goodsPickerArr.length) {\r\n\t\t\t\t\t\t\tthis.goodsCategoryId = this.goodsPickerArr[0]['categoryId'];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 获取联系方式列表\r\n\t\t\tasync getContactList() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await onFetchContactType();\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\t\t\t// 默认选择第一个联系方式\r\n\t\t\t\t\t\t\tconst selectContactObj = res.data[0];\r\n\t\t\t\t\t\t\tthis.sellerContactType = selectContactObj.contactType;\r\n\t\t\t\t\t\t\tthis.sellerContact = selectContactObj.contactContent;\r\n\t\t\t\t\t\t\tthis.selectContactObj = selectContactObj;\r\n\t\t\t\t\t\t\t// 联系人列表\r\n\t\t\t\t\t\t\tthis.pickerList = res.data;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 发布商品\r\n\t\t\tasync publish() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// const lat = uni.getStorageSync('lat');\r\n\t\t\t\t\t// const lng = uni.getStorageSync('lng');\r\n\t\t\t\t\tconst params = {\r\n\t\t\t\t\t\tgoodsName: this.goodsName,\r\n\t\t\t\t\t\tgoodsImg: this.goodsImg,\r\n\t\t\t\t\t\tgoodsPrice: this.goodsPrice,\r\n\t\t\t\t\t\tgoodsStock: this.goodsStock,\r\n\t\t\t\t\t\t// goodsLat: this.goodsLat || lat,\r\n\t\t\t\t\t\t// goodsLng: this.goodsLng || lng,\r\n\t\t\t\t\t\tgoodsContent: this.goodsContent,\r\n\t\t\t\t\t\tgoodsDesc: this.goodsDesc,\r\n\t\t\t\t\t\tsellerContactType: this.sellerContactType,\r\n\t\t\t\t\t\tsellerContact: this.sellerContact,\r\n\t\t\t\t\t\tgoodsAddress: this.goodsAddress,\r\n\t\t\t\t\t\tgoodsCategoryId: this.goodsCategoryId\r\n\t\t\t\t\t};\r\n\t\t\t\t\tlet res;\r\n\t\t\t\t\tif (this.editFlag) {\r\n\t\t\t\t\t\tObject.assign(params, {\r\n\t\t\t\t\t\t\tgoodsCode: this.goodsCode\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tres = await onUpdateGoods(params);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tres = await onCreateGoods(params);\r\n\t\t\t\t\t\tthis.goodsCode = res.data.goodsCode;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst title = this.editFlag ? '修改成功' : '发布成功';\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\t\tcomplete:() => {\r\n\t\t\t\t\t\t\t\tlet url = '/pages/sub/my/goods';\r\n\t\t\t\t\t\t\t\tlet flag = true;\r\n\t\t\t\t\t\t\t\tif (this.source == 1) {\r\n\t\t\t\t\t\t\t\t\tflag = false;\r\n\t\t\t\t\t\t\t\t\t// url = `/pages/sub/my/goods?source=${this.source}&showcaseId=${this.showcaseId}&goodsCode=${res.data.goodsCode}`\r\n\t\t\t\t\t\t\t\t\turl = `/pages/subpackages/site/myShop?showcaseId=${ this.showcaseId }`;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.addGoods(url, flag);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// uni.navigateTo({\r\n\t\t\t\t\t\t// \turl: `/pages/sub/publish/publishSuccess?params=${JSON.stringify(params)}`\r\n\t\t\t\t\t\t// })\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 校验字段\r\n\t\t\tonCheck() {\r\n\t\t\t\tif (!this.goodsName) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入商品名',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.goodsName.length >= 50) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '商品名不能超过50个字',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.goodsPrice) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入商品价格',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tconst minPrice = 0.3;\r\n\t\t\t\tconst maxPrice = 5000;\r\n\t\t\t\tif (this.goodsPrice < minPrice || this.goodsPrice > maxPrice) {\r\n\t\t\t\t\tlet title = '商品价格不能'\r\n\t\t\t\t\tif (this.goodsPrice < minPrice) {\r\n\t\t\t\t\t\ttitle += `低于${ minPrice }元`;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttitle += `高于${ maxPrice }元`;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.goodsDesc) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请填写商品描述',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.goodsImg.length === 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请上传商品图片',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.sellerContact) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请填写完整的联系方式',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.address) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请填写地区信息',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.goodsAddress = this.address;\r\n\t\t\t\t// if (this.sellerContactType != 0 && this.sellerContactType != 1) {\r\n\t\t\t\t// \tuni.showToast({\r\n\t\t\t\t// \t\ttitle: '请留下联系方式',\r\n\t\t\t\t// \t\ticon: 'none'\r\n\t\t\t\t// \t});\r\n\t\t\t\t// \treturn false;\r\n\t\t\t\t// }\r\n\t\t\t\tthis.publish();\r\n\t\t\t},\r\n\t\t\t// 添加橱窗商品\r\n\t\t\tasync addGoods(url, flag) {\r\n\t\t\t\tif (flag) {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\turl\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}, 1500);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await onAddGoodsToShowCase({\r\n\t\t\t\t\t\tgoodsIds: [this.goodsCode],\r\n\t\t\t\t\t\tshowcaseId: this.showcaseId\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}, 1500)\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 保存地址\r\n\t\t\tasync onSaveAddress() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await saveUserLocation({\r\n\t\t\t\t\t\t\"locationLat\": this.goodsLat,\r\n\t\t\t\t\t\t\"locationLng\": this.goodsLng,\r\n\t\t\t\t\t\t\"locationAddress\": this.address\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tconst addressInfo = uni.getStorageInfoSync('addressInfo') || {};\r\n\t\t\t\t\t\tObject.assign(addressInfo, {\r\n\t\t\t\t\t\t\ttitle: this.address,\r\n\t\t\t\t\t\t\tlat: this.goodsLat,\r\n\t\t\t\t\t\t\tlng: this.goodsLng,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tuni.setStorageSync('addressInfo', addressInfo);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 地图选点\r\n\t\t\tselectMap() {\r\n\t\t\t\t// 重新触发onshow\r\n\t\t\t\tthis.initFlag = false;\r\n\t\t\t\t\r\n\t\t\t\tconst mapConfig = {\r\n\t\t\t\t  key: \"YCWBZ-Q2CKG-NK7Q3-IFYBG-LCHA7-TKBQ5\", //使用在腾讯位置服务申请的key\r\n\t\t\t\t  referer: \"kuaihuo\",//调用插件的app的名称\r\n\t\t\t\t\tcategory: '房产小区:住宅区:住宅小区'\r\n\t\t\t\t}\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\twx.navigateTo({\r\n\t\t\t\t\turl: 'plugin://chooseLocation/index?key=' + mapConfig.key + '&referer=' + mapConfig.referer + '&category=' + mapConfig.category\r\n\t\t\t\t});\r\n\t\t\t\t// #endif        \r\n\t\t\t},\r\n\t\t\tgoPage(item) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: item.link\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonGoodsChange(e) {\r\n\t\t\t\tthis.goodsCategoryIndex = e.detail.value;\r\n\t\t\t\tthis.goodsCategoryId = this.goodsPickerArr[this.goodsCategoryIndex]['categoryId'];\r\n\t\t\t},\r\n\t\t\t// 选择联系方式\r\n\t\t\tonSelectConcat(e) {\r\n\t\t\t\t// this.sellerContactType = e.detail.value\r\n\t\t\t\tconst selectContactObj = this.pickerList[e.detail.value];\r\n\t\t\t\tthis.sellerContactType = selectContactObj.contactType;\r\n\t\t\t\tthis.sellerContact = selectContactObj.contactContent;\r\n\t\t\t\tthis.selectContactObj = selectContactObj;\r\n\t\t\t},\r\n\t\t\tonChooseImage() {\r\n\t\t\t\t// 重新触发onshow\r\n\t\t\t\tthis.initFlag = false;\r\n\t\t\t\t\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: this.maxImg, //默认9\r\n\t\t\t\t\tsizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tlet tempFilePaths = res.tempFilePaths;\r\n\t\t\t\t\t\tif (this.imgList.length + tempFilePaths.length > this.maxImg) {\r\n\t\t\t\t\t\t\tconst len = this.imgList.length + tempFilePaths.length - this.maxImg;\r\n\t\t\t\t\t\t\ttempFilePaths = tempFilePaths.splice(len);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttempFilePaths.forEach(v => {\r\n\t\t\t\t\t\t\tajaxUpload({\r\n\t\t\t\t\t\t\t    filePath: v,\r\n\t\t\t\t\t\t\t    name: 'file',\r\n\t\t\t\t\t\t\t    success: (uploadFileRes) => {\r\n\t\t\t\t\t\t\t\t\t\tlet upimg = JSON.parse(uploadFileRes.data);\r\n\t\t\t\t\t\t\t\t\t\tif (upimg.code === 200) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (this.imgList.length != 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.imgList = this.imgList.concat([v]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.goodsImg = this.goodsImg.concat([upimg.data.fileUrl])\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.imgList.push(v);\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.goodsImg = [upimg.data.fileUrl];\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonViewImage(e) {\r\n\t\t\t\tconsole.log('e.currentTarget.dataset.url', e.currentTarget.dataset.url)\r\n\t\t\t\tconsole.log('this.imgList', this.imgList)\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\turls: this.imgList,\r\n\t\t\t\t\tcurrent: e.currentTarget.dataset.url\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonDelImg(e) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tcontent: '确定删除？',\r\n\t\t\t\t\tcancelText: '再想想',\r\n\t\t\t\t\tconfirmText: '确认',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tconst index = e.currentTarget.dataset.index;\r\n\t\t\t\t\t\t\tthis.imgList.splice(index, 1);\r\n\t\t\t\t\t\t\tthis.goodsImg.splice(index, 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetbgyxinfo:function(e){\r\n\t\t\t\tconsole.log('e', e)\r\n\t\t\t\t//获取富文本内容，默认模式拼接的html\r\n\t\t\t\tthis.goodsContent = e.html;\r\n\t\t\t\t//获取原始数据,可自行循环拼接html数据\r\n\t\t\t\tthis.goodsDesc = '';\r\n\t\t\t\te.data.forEach(v => {\r\n\t\t\t\t\tthis.goodsDesc += v.value;\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.publish-content {\r\n\t\t.publish-title {\r\n\t\t\tfont-size: 40upx;\r\n\t\t}\r\n\t\t.wechat {\r\n\t\t\twidth: 40upx;\r\n\t\t\theight: 40upx;\r\n\t\t}\r\n\t\t.goods-content {\r\n\t\t\tborder: 1upx solid #eee;\r\n\t\t\tdisplay: flex;\r\n\t\t\ttextarea {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tpadding: 5upx 10upx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./publishGoods.vue?vue&type=style&index=0&id=7e573d6f&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./publishGoods.vue?vue&type=style&index=0&id=7e573d6f&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1647224521711\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}