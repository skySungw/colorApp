{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/pages/subpackages/site/myShop.vue?e645","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/pages/subpackages/site/myShop.vue?81e7","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/pages/subpackages/site/myShop.vue?d29d","uni-app:///pages/subpackages/site/myShop.vue","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/pages/subpackages/site/myShop.vue?8c51","webpack:///D:/sunguowei/Documents/HBuilderProjects/ykq-uniapp-b2c/colorApp/pages/subpackages/site/myShop.vue?f311"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,0G,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AAC+K;AAC/K,gBAAgB,6KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA+pB,CAAgB,gnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2EnrB,gD;;;;;;AAMA;AACA;AACA,kBADA;AAEA,gBAFA;AAGA,gBAHA,EADA;;AAMA,MANA,kBAMA;AACA;AACA,oBADA,EACA;AACA,kBAFA,EAEA;AACA,eAHA;AAIA,kBAJA;AAKA,eALA;AAMA,6BANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA,aADA;AAEA,oBAFA,EALA;AAQA;AACA,aADA;AAEA,oBAFA,EARA,CAPA;;AAmBA,iBAnBA,EAmBA;AACA,kBApBA,EAoBA;AACA;AACA,gBADA,EACA;AACA,kBAFA,EAEA;AACA,gBAHA,EAGA;AACA,sBAJA,EAIA;AACA,mBALA,EAKA;AACA,qBANA,EArBA;;AA6BA,mBA7BA;AA8BA,cA9BA,EA8BA;AACA,0BA/BA,EA+BA;AACA,qBAhCA,EAgCA;AACA,iBAjCA;AAkCA,gBAlCA;AAmCA,kBAnCA;AAoCA;AACA,oBADA,EApCA;;AAuCA,uBAvCA,CAuCA;AAvCA;AAyCA,GAhDA;AAiDA,QAjDA,kBAiDA,OAjDA,EAiDA;AACA;AACA;AACA;AACA;AACA;AACA,GAvDA;AAwDA,QAxDA,oBAwDA;AACA;AACA;AACA;AACA,qCADA;AAEA;AACA;AACA;AACA,kGADA;;AAGA,SAPA;;AASA;AACA;AACA;AACA,GAvEA;AAwEA,mBAxEA,+BAwEA;AACA;AACA;AACA;AACA;AACA,2FAFA;AAGA,6FAHA;;AAKA,OANA,EAMA,IANA;AAOA,KARA;AASA;AACA,mBADA;AAEA,uFAFA;AAGA,sBAHA;;AAKA,GAvFA;AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAFA,6BAEA,UAFA,EAEA;;AAEA;AACA,0CADA,GAFA,SAEA,GAFA;;AAKA;AACA;AACA;AACA,iBARA;;AAUA,gDAVA;;AAYA,KAdA;AAeA;AACA,iBAhBA,yBAgBA,IAhBA,EAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAxBA;AAyBA,kBAzBA,4BAyBA;AACA;AACA;AACA;AACA;AACA,KA9BA;AA+BA,WA/BA,mBA+BA,CA/BA,EA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA,EAIA,SAJA;AAKA,KAvCA;AAwCA;AACA,iBAzCA,2BAyCA;AACA;AACA,KA3CA;AA4CA;AACA,gBA7CA,wBA6CA,CA7CA,EA6CA;AACA;AACA;AACA;AACA;AACA,KAlDA;AAmDA;AACA,SApDA,iBAoDA,UApDA,EAoDA,QApDA,EAoDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBADA;;AAGA,KAnEA;AAoEA;AACA,iBArEA,yBAqEA,UArEA,EAqEA;;AAEA;AACA,0CADA,GAFA,SAEA,GAFA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBATA,MASA;AACA;AACA;AACA,iBArBA;;AAuBA,iDAvBA;;AAyBA,oCAzBA;AA0BA,KA/FA;AAgGA;AACA,WAjGA,qBAiGA;AACA;AACA,KAnGA;AAoGA;AACA,cArGA,wBAqGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA7GA;AA8GA;AACA,mBA/GA,6BA+GA;AACA,kCADA;;AAGA;AACA,+CADA,IAHA;;AAMA,8DANA,SAMA,GANA;AAOA;;AAEA;AACA,sBAHA,GAGA,gBAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,qBAJA,MAIA;AACA;AACA;AACA;AACA,mBAVA;AAWA;AACA;AACA,mBAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,kCA9BA;;AAgCA;AACA,iDAjCA;;AAmCA,KAlJA;AAmJA,YAnJA,oBAmJA,IAnJA,EAmJA;AACA;AACA;AACA,wBADA;;AAGA;AACA,KAzJA,EAyJA;AACA,SA1JA,iBA0JA,CA1JA,EA0JA;AACA;AACA,KA5JA;AA6JA;AACA,SA9JA,iBA8JA,CA9JA,EA8JA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA,KAvKA;AAwKA;AACA,UAzKA,kBAyKA,CAzKA,EAyKA;AACA;AACA,KA3KA;AA4KA;AACA,SA7KA,iBA6KA,CA7KA,EA6KA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,oBADA;AAEA,wCAFA;;AAIA,KAtLA,EA/FA,E;;;;;;;;;;;;;ACjFA;AAAA;AAAA;AAAA;AAAkxC,CAAgB,unCAAG,EAAC,C;;;;;;;;;;;ACAtyC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/subpackages/site/myShop.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/subpackages/site/myShop.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./myShop.vue?vue&type=template&id=17019782&scoped=true&\"\nvar renderjs\nimport script from \"./myShop.vue?vue&type=script&lang=js&\"\nexport * from \"./myShop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./myShop.vue?vue&type=style&index=0&id=17019782&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17019782\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/subpackages/site/myShop.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myShop.vue?vue&type=template&id=17019782&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myShop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myShop.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"my-shop full-height absolute flex flex-direction bg-white\">\r\n\t\t<cu-custom bgColor=\"bg-gradual-green\" :isBack=\"true\" :isShow=\"isShow\" :isCustom=\"true\">\r\n\t\t\t<view slot=\"content\">{{ title }}</view>\r\n\t\t</cu-custom>\r\n\t\t<!-- banner -->\r\n\t\t<view class=\"banner padding-sm flex\" v-if=\"shopInfo\">\r\n\t\t\t<view>\r\n\t\t\t\t<view class=\"cu-avatar radius xl\" :style=\"'background-image:url(' + shopInfo.wxHeadImg + ');'\"></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex-1 padding-left-sm\">\r\n\t\t\t\t<view class=\"text-bold margin-bottom-sm\">{{ shopInfo.showcaseName }}</view>\r\n\t\t\t\t<view class=\"text-grey text-sm\">{{ shopInfo.showcaseDesc }}</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 分享-->\r\n\t\t\t<view class=\"share flex align-center\">\r\n\t\t\t\t<view class=\"cu-tag line-green share-button flex align-center\">\r\n\t\t\t\t\t<view class=\"text-green\">\r\n\t\t\t\t\t\t分享橱窗\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cuIcon-forwardfill lg text-green text-center\">\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<button class=\"pop-box-btn\" open-type=\"share\"></button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-if=\"isSearchFocus\" class=\"cu-bar search bg-white strick-top\" :style=\"[{top: menuTop + 'px'}]\">\r\n\t\t\t<view class=\"search-form round\">\r\n\t\t\t\t<text class=\"cuIcon-search\"></text>\r\n\t\t\t\t<input type=\"text\" placeholder=\"商品名称\" confirm-type=\"search\" :value=\"searchValue\" :focus=\"isSearchFocus\" @input=\"onInput\"></input>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"action\">\r\n\t\t\t\t<text @click=\"onSearchCancel\">取消</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-else class=\"flex text-center padding-sm bg-white align-center strick-top\" :style=\"[{top: menuTop + 'px'}]\">\r\n\t\t\t<view class=\"flex-1\" v-for=\"(item, index) in menu\" :key=\"item.id\" @tap=\"onMenuChange\" :data-index=\"index\" :data-id=\"item.id\" :data-item=\"item\">\r\n\t\t\t\t<text class=\"text-bold menu-text\" :class=\"[{active: menuIndex === index}]\">{{ item.name }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex-1 serach flex flex-space-between align-center\">\r\n\t\t\t\t<text class=\"cuIcon-search margin-right\" @tap=\"showSearchBar\"></text>\r\n\t\t\t\t<!-- <view>\r\n\t\t\t\t\t<text @tap=\"onAdd\" class=\"cuIcon-add round text-bold text-green\"></text>\r\n\t\t\t\t</view> -->\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 页面滚动 -->\r\n\t\t<view class=\"flex-1 bg-white my-shop_content\">\r\n\t\t\t<scroll-view :scroll-top=\"scrollTop\" scroll-y=\"true\" class=\"scroll-Y\" @scrolltoupper=\"upper\" @scrolltolower=\"lower\"\r\n\t\t\t@scroll=\"scroll\">\r\n\t\t\t\t<Goods\r\n\t\t\t\t\tclass=\"goods-item_content\"\r\n\t\t\t\t\tv-for=\"(item, index) in list\"\r\n\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t:item=\"item\"\r\n\t\t\t\t\t:source=\"3\"\r\n\t\t\t\t\t:status=\"1\"\r\n\t\t\t\t\t:goodsType=\"menuId\"\r\n\t\t\t\t\t:showcaseId=\"params.showcaseId\"\r\n\t\t\t\t\t@refreshList=\"onDeleteGoods\"\r\n\t\t\t\t></Goods>\r\n\t\t\t\t<!-- 无更多数据 -->\r\n\t\t\t\t<view v-if=\"noMoreFlag\" class=\"text-center padding-sm padding-bottom-xl\">我是有底线的~</view>\r\n\t\t\t</scroll-view>\r\n\t\t\t<Empty v-if=\"list.length == 0\" msg=\"暂无数据~\" />\r\n\t\t</view>\r\n\t\t<!-- <view class=\"shop-footer\">\r\n\t\t\t<text @tap=\"onAdd\" class=\"cuIcon-add round text-bold bg-green shadow\"></text>\r\n\t\t</view> -->\r\n\t\t<!-- 其它区域 -->\r\n\t\t<NavBar :index=\"4\" :onAdd=\"onAdd\" :showCaseId=\"params.showcaseId\" :idStatus=\"idStatus\"></NavBar>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { onFetchShowcasePage, onFetchShowcaseInfo } from '@/api';\r\n\timport { onFetchOwnerStateShowcase } from '@/api';\r\n\t\r\n\timport NavBar from '@/components/navBar';\r\n\timport Goods from '@/components/goods';\r\n\timport Empty from '@/components/empty.vue';\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tNavBar,\r\n\t\t\tGoods,\r\n\t\t\tEmpty\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshopInfo: null, // 橱窗详情\r\n\t\t\t\tisShow: true, // 是否显示菜单， false - 不显示， true - 显示\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tmenuIndex: 0,\r\n\t\t\t\tmenuId: 1,\r\n\t\t\t\tmenuTop: this.CustomBar,\r\n\t\t\t\tmenu: [\r\n\t\t\t\t// \t{\r\n\t\t\t\t// \tid: 9,\r\n\t\t\t\t// \tname: '全部'\r\n\t\t\t\t// }, \r\n\t\t\t\t{\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\tname: '圈友商品'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: 2,\r\n\t\t\t\t\tname: '特惠商城'\r\n\t\t\t\t}],\r\n\t\t\t\tidStatus: 1, // 0 - 拥有者， 1 - 游客\r\n\t\t\t\tsiteName: '', // 站长名\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tsize: 10, // 页码\r\n\t\t\t\t\tcurrent: 1, // 当前页\r\n\t\t\t\t\ttotal: 0, // 总数量\r\n\t\t\t\t\tshowcaseId: '', // 商品橱窗id\r\n\t\t\t\t\tselType: '' ,// 不传递为全部, 0 普通C, 1 圈友商品, 2 自营商品\r\n\t\t\t\t\tgoodsName: '',\r\n\t\t\t\t},\r\n\t\t\t\tscrollLeft:0,\r\n\t\t\t\tlist: [], // 订单列表\r\n\t\t\t\tisSearchFocus: false, // 是否显示搜索框 并 自动聚焦\r\n\t\t\t\tsearchValue: '', // 搜索条件\r\n\t\t\t\ttimer: null,\r\n\t\t\t\ttime: 1000,\r\n\t\t\t\tscrollTop: 0,\r\n\t\t\t\told: {\r\n\t\t\t\t\tscrollTop: 0\r\n\t\t\t\t},\r\n\t\t\t\tnoMoreFlag: false, // 是否有更多数据\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tthis.isShow = options.menu == 1 ? true : false;\r\n\t\t\tlet showcaseId = options.showcaseId || uni.getStorageSync('showcaseId');\r\n\t\t\tconsole.log('options.showcaseId', options.showcaseId)\r\n\t\t\tthis.params.showcaseId = showcaseId;\r\n\t\t\tthis.onGetShowCaseInfo(this.params.showcaseId);\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tconst token = uni.getStorageSync('token');\r\n\t\t\tif (!token) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/sub/login/index',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t// 通过eventChannel向被打开页面传送数据\r\n\t\t\t\t\t\tres.eventChannel.emit('loginUrl', {\r\n\t\t\t\t\t\t\tloginUrl: `/pages/subpackages/site/myShop?showcaseId=${this.params.showcaseId}`,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.getVisitOwner(this.params.showcaseId);\r\n\t\t},\r\n\t\tonShareAppMessage() {\r\n\t\t\tconst promise = new Promise(resolve => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tresolve({\r\n\t\t\t\t\t\t// title: `${this.siteName} 的商品橱窗`,\r\n\t\t\t\t\t\ttitle: `${this.shopInfo.showcaseName} 的商品橱窗`,\r\n\t\t\t\t\t\tpath: `/pages/subpackages/site/myShop?showcaseId=${this.params.showcaseId}`,\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 2000)\r\n\t\t\t})\r\n\t\t\treturn {\r\n\t\t\t\ttitle: '商品橱窗',\r\n\t\t\t\tpath: `/pages/subpackages/site/myShop?showcaseId=${this.params.showcaseId}`,\r\n\t\t\t\tpromise \r\n\t\t\t}\r\n\t\t},\r\n\t\t// onReachBottom() {\r\n\t\t// \tconsole.log('bottom');\r\n\t\t// \tif (this.hasNext()) {\r\n\t\t// \t\tthis.params.current++;\r\n\t\t// \t\tthis.getShowCaseList();\r\n\t\t// \t}\r\n\t\t// },\r\n\t\tmethods: {\r\n\t\t\t// 获取橱窗信息\r\n\t\t\tasync onGetShowCaseInfo(showcaseId) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await onFetchShowcaseInfo({\r\n\t\t\t\t\t\tshowcaseId\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tconsole.log('res', res);\r\n\t\t\t\t\t\tthis.shopInfo = res.data;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 删除商品\r\n\t\t\tonDeleteGoods(item) {\r\n\t\t\t\tthis.initParams();\r\n\t\t\t\t// this.list.forEach((v, i) => {\r\n\t\t\t\t// \tif (v.goodsCode === item.goodsCode) {\r\n\t\t\t\t// \t\tconsole.log('i', i);\r\n\t\t\t\t// \t\tthis.list.splice(i, 1);\r\n\t\t\t\t// \t}\r\n\t\t\t\t// })\r\n\t\t\t},\r\n\t\t\tonSearchCancel() {\r\n\t\t\t\tthis.isSearchFocus = false;\r\n\t\t\t\tthis.searchValue = '';\r\n\t\t\t\tthis.list = [];\r\n\t\t\t\tthis.getShowCaseList();\r\n\t\t\t},\r\n\t\t\tonInput(e) {\r\n\t\t\t\tthis.searchValue = e.detail.value;\r\n\t\t\t\tclearTimeout(this.timer);\r\n\t\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\t\tthis.list = [];\r\n\t\t\t\t\tclearTimeout(this.timer);\r\n\t\t\t\t\tthis.getShowCaseList();\r\n\t\t\t\t}, this.time)\r\n\t\t\t},\r\n\t\t\t// 显示搜索栏\r\n\t\t\tshowSearchBar() {\r\n\t\t\t\tthis.isSearchFocus = true;\r\n\t\t\t},\r\n\t\t\t// 切换菜单\r\n\t\t\tonMenuChange(e) {\r\n\t\t\t\tthis.list = [];\r\n\t\t\t\tthis.menuIndex = e.currentTarget.dataset['index'];\r\n\t\t\t\tthis.menuId = e.currentTarget.dataset['id'];\r\n\t\t\t\tthis.initParams();\r\n\t\t\t},\r\n\t\t\t// 橱窗商品列表\r\n\t\t\tonAdd(showcaseId, idStatus) {\r\n\t\t\t\tlet url = '';\r\n\t\t\t\tshowcaseId ?? this.params.showcaseId;\r\n\t\t\t\tidStatus = idStatus ?? this.idStatus;\r\n\t\t\t\t// 站长本人\r\n\t\t\t\tif (idStatus === 0) {\r\n\t\t\t\t\turl = '/pages/subpackages/site/goodsList';\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// url = `/pages/sub/my/goods?source=1&showcaseId=${showcaseId}`;\r\n\t\t\t\t\turl = `/pages/sub/publish/publishGoods?source=1&showcaseId=${showcaseId}`;\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log('url', url);\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取身份标识\r\n\t\t\tasync getVisitOwner(showcaseId) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst res = await onFetchOwnerStateShowcase({\r\n\t\t\t\t\t\tshowcaseId\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t// \"status\": 1身份状态 0 橱窗拥有者 1 游客\r\n\t\t\t\t\t\tthis.idStatus = res.data.status;\r\n\t\t\t\t\t\tthis.siteName = res.data.ownerUserName;\r\n\t\t\t\t\t\tif (this.idStatus == 1) {\r\n\t\t\t\t\t\t\tthis.title = `${this.siteName}的橱窗`;\r\n\t\t\t\t\t\t\t// this.menu = [{\r\n\t\t\t\t\t\t\t// \tid: 9,\r\n\t\t\t\t\t\t\t// \tname: '全部'\r\n\t\t\t\t\t\t\t// }, {\r\n\t\t\t\t\t\t\t// \tid: 0,\r\n\t\t\t\t\t\t\t// \tname: '我添加的'\r\n\t\t\t\t\t\t\t// }];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.title = '我的橱窗'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t}\r\n\t\t\t\tthis.initParams();\r\n\t\t\t},\r\n\t\t\t// 是否有下一页\r\n\t\t\thasNext() {\r\n\t\t\t\treturn this.params.current < Math.ceil(this.params.total / this.params.size);\r\n\t\t\t},\r\n\t\t\t// 初始化列表页面参数\r\n\t\t\tinitParams() {\r\n\t\t\t\tthis.params.selType = this.menuId;\r\n\t\t\t\tif (this.params.selType == 9) {\r\n\t\t\t\t\tdelete this.params.selType;\r\n\t\t\t\t}\r\n\t\t\t\tthis.params.current = 1;\r\n\t\t\t\tthis.list = [];\r\n\t\t\t\tthis.getShowCaseList();\r\n\t\t\t},\r\n\t\t\t// 获取商品列表\r\n\t\t\tasync getShowCaseList() {\r\n\t\t\t\tuni.showLoading();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tObject.assign(this.params, {\r\n\t\t\t\t\t\tgoodsName: this.searchValue\r\n\t\t\t\t\t})\r\n\t\t\t\t\tconst res = await onFetchShowcasePage(this.params);\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.params.total = res.data.total;\r\n\t\t\t\t\t\tconst list = res.data.records;\r\n\t\t\t\t\t\tlist.forEach((v, i) => {\r\n\t\t\t\t\t\t\tlet flag = false;\r\n\t\t\t\t\t\t\tif (this.idStatus == 1) {\r\n\t\t\t\t\t\t\t\tif (v.isDelete) {\r\n\t\t\t\t\t\t\t\t\tflag = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tflag = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlist[i]['showDelete'] = flag;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (this.params.current === 1) {\r\n\t\t\t\t\t\t\tthis.list = list;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.list = this.list.concat(list);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// 是否有下一页数据\r\n\t\t\t\t\t\t// this.hasNext = res.hasNext;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t} catch(err) {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tconsole.log('err', err);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonGoPage(item) {\r\n\t\t\t\tif (item['link']) {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: item.link\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},// 滚动到顶部\r\n\t\t\tupper(e) {\r\n\t\t\t\t\t// console.log('upper', e)\r\n\t\t\t},\r\n\t\t\t// 滚动到底部\r\n\t\t\tlower(e) {\r\n\t\t\t\tconsole.log('bottom');\r\n\t\t\t\tif (this.hasNext()) {\r\n\t\t\t\t\tthis.noMoreFlag = false;\r\n\t\t\t\t\tthis.params.current++;\r\n\t\t\t\t\tthis.getShowCaseList();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.noMoreFlag = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 滚动事件\r\n\t\t\tscroll(e) {\r\n\t\t\t\t\tthis.old.scrollTop = e.detail.scrollTop\r\n\t\t\t},\r\n\t\t\t// 到顶\r\n\t\t\tgoTop(e) {\r\n\t\t\t\tthis.scrollTop = this.old.scrollTop\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tthis.scrollTop = 0\r\n\t\t\t\t});\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\ttitle:\"纵向滚动 scrollTop 值已被修改为 0\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t.strick-top {\r\n\t\tposition: sticky;\r\n\t}\r\n\t.padding-fixed {\r\n\t\tpadding-top: 100upx;\r\n\t}\r\n\t.fixed-shadow {\r\n\t\tbox-shadow: 0 0 10upx rgba(0, 0, 0, .5);\r\n\t}\r\n\t.flex-align-center {\r\n\t\talign-items: center;\r\n\t}\r\n\t.flex-space-between {\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\t.fixed {\r\n\t\tposition: fixed;\r\n\t\twidth: 100%;\r\n\t\tz-index: 99;\r\n\t\t&.margin-top-sm {\r\n\t\t\tmargin-top: 0;\r\n\t\t\tz-index: 999;\r\n\t\t\tbox-shadow: 0 0 20upx rgba(0, 0, 0, .5);\r\n\t\t}\r\n\t}\r\n\t.my-shop {\r\n\t\t.banner {\r\n\t\t\timage {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 200upx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.menu-text {\r\n\t\t\tposition: relative;\r\n\t\t\tfont-size: 28upx;\r\n\t\t\t&.active {\r\n\t\t\t\tcolor: #000;\r\n\t\t\t\tfont-size: 30upx;\r\n\t\t\t\t&::after {\r\n\t\t\t\t\tcontent: '';\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tleft: -10upx;\r\n\t\t\t\t\tright: -10upx;\r\n\t\t\t\t\theight: 10upx;\r\n\t\t\t\t\tbottom: -14upx;\r\n\t\t\t\t\tborder-radius: 10upx;\r\n\t\t\t\t\tbackground-color: rgba(255, 196, 91, .8);\r\n\t\t\t\t\tz-index: 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.serach {\r\n\t\t\ttext {\r\n\t\t\t\tbackground-color: #F5F5F5;\r\n\t\t\t\tpadding: 10upx;\r\n\t\t\t}\r\n\t\t\t.cuIcon-search {\r\n\t\t\t\tpadding: 10upx 20upx;\r\n\t\t\t\tbackground-color: #F5F5F5;\r\n\t\t\t\tborder-radius: 50upx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.goods-item_content {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\twidth: 50%;\r\n\t\t}\r\n\t\t&_content {\r\n\t\t\toverflow: hidden;\r\n\t\t\tpadding-bottom: 100upx;\r\n\t\t}\r\n\t\t.shop-footer {\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 240upx;\r\n\t\t\twidth: 100%;\r\n\t\t\tleft: 0;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\ttext {\r\n\t\t\t\tpadding: 20upx;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\tbox-shadow: 0 -3rpx 8upx rgba(0, 0, 0, 0.3);\r\n\t\t\t\tfont-size: 50upx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.share-button {\r\n\t\tposition: relative;\r\n\t\t// border: 1upx solid green;\r\n\t\t// border-radius: 10upx;\r\n\t\t// padding: 5upx 10upx;\r\n\t\t.cuIcon-forwardfill {\r\n\t\t\tmargin-left: 5upx;\r\n\t\t}\r\n\t\t.pop-box-btn {\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t\ttop: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\t}\r\n</style>\r\n\r\n","import mod from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myShop.vue?vue&type=style&index=0&id=17019782&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myShop.vue?vue&type=style&index=0&id=17019782&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1646297135769\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}